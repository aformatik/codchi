<!DOCTYPE html><html  lang="en" data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Internals · Codchi</title>
<link rel="stylesheet" href="/_nuxt/entry.Cte5CpMF.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocumentDrivenNotFound.CH12xUgv.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ButtonLink.CiHQPHFO.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocsPageLayout.DPlqiFuI.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocsAside.DVjtZisG.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseCodeInline.D2HJFQ1V.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/Alert.CauIGjJl.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocsPageBottom.4XIyuFN9.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseA.CHHaMahR.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocsPrevNext.KK0Wl1GO.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocsToc.3wHDilVr.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/DocsTocLinks.B2G6lxVR.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseH1.SK43DhZp.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseP.D6hPlGvL.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseH2.BG86M9YX.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProsePre.B_fgAJq0.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseCode.DPTMYu0n.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseTable.CuPqIqJo.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseThead.CRoeMcLU.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseTr.I9ZwkyT-.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseTh.DmoeLdw1.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseTd.Bc0WDrR1.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseStrong.DzlBpK_d.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseUl.BSDK8kCD.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseLi.CPvn4_eJ.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseOl.DjPfratS.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseH3._koEKAPK.css" crossorigin>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/contrib/internals/_payload.json?d6444895-0207-47d7-83fa-88c3502fb655">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CiiQZoPb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bq0Kq6pF.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BiXDexJ0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/PTVMhmhL.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DciP-FP4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/76o_WpOd.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DNMNzwaa.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CLmbEHsB.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DhVCDg5Y.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DnvmOr4c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BbprOH1f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DipcREpa.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CPKH9IZD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CkJRW9_d.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CBazAnrO.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Kepi6L2V.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BtfJxVVX.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CtM3E6NT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BIWC5JIl.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bpof3fWQ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DfwN1R1v.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B1hajbAO.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bl5zHkKu.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dpxn9Cnv.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CeoKXpER.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C6fBY98B.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CK21sRIF.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CxNBo7pp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CGABTGDU.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CK9m3yHS.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bit_kXv-.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cdr6McPp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CZPecczh.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dxj21kaV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Ds4NKOU2.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BBjXNLA4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/UZOLOYL9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cju0iP8m.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/fc0-vugC.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/page.VdPUBxEb.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/xf8X-7kz.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/D9brlvE_.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/useStudio.BIRZTPEK.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DSMe-g1-.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/error-404.Dao8HYea.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DKjcfdpp.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/error-500.B12IW0qU.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/BIg1MioU.js">
<meta name="twitter:card" content="summary_large_image">
<meta property="og:image" content="https://user-images.githubusercontent.com/904724/185365452-87b7ca7b-6030-4813-a2db-5e65c785bf88.png">
<meta property="og:title" content="Internals">
<meta name="description" content="This page describes the internals of Codchi. For an overview of what Codchi is read What is Codchi?">
<meta property="og:description" content="This page describes the internals of Codchi. For an overview of what Codchi is read What is Codchi?">
<script type="module" src="/_nuxt/CiiQZoPb.js" crossorigin></script><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:uT_x7t-v;}.pv-soblzD{padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-soblzD{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-soblzD{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-soblzD{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} @media{.phy[--]{--puid:c7SAJ3-v;}.pv-PFq368{max-width:var(--elements-container-maxWidth);padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-PFq368{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-PFq368{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-PFq368{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --docus-search-results-highlight-color: white;--docus-search-results-window-maxHeight: 100%;--docus-search-results-window-maxWidth: 640px;--docus-search-results-window-marginTop: 0;--docus-search-input-borderStyle: solid;--docus-search-input-borderWidth: 1px;--docus-search-backdropFilter: blur(24px);--docus-loadingBar-gradientColorStop3: #0047e1;--docus-loadingBar-gradientColorStop2: #34cdfe;--docus-loadingBar-gradientColorStop1: #00dc82;--docus-loadingBar-height: 3px;--docus-readableLine: 78ch;--docus-footer-height: 145px;--docus-header-height: 64px;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 80rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #001A1F;--color-primary-800: #00232B;--color-primary-700: #024757;--color-primary-600: #09A0C1;--color-primary-500: #1AD6FF;--color-primary-400: #55E1FF;--color-primary-300: #82E3FF;--color-primary-200: #C5F2FF;--color-primary-100: #DCF7FF;--color-primary-50: #F1FCFF;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #00131D;--color-blue-800: #002235;--color-blue-700: #014267;--color-blue-600: #0069A6;--color-blue-500: #1AADFF;--color-blue-400: #64C7FF;--color-blue-300: #A1DDFF;--color-blue-200: #C6EAFF;--color-blue-100: #DFF3FF;--color-blue-50: #F2FAFF;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #1C0301;--color-red-800: #340A01;--color-red-700: #701704;--color-red-600: #BB2402;--color-red-500: #FF3B10;--color-red-400: #FF7353;--color-red-300: #FFA692;--color-red-200: #FFDED7;--color-red-100: #FFF3F0;--color-red-50: #FFF9F8;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #1B1500;--color-yellow-800: #292100;--color-yellow-700: #614E02;--color-yellow-600: #CBA408;--color-yellow-500: #FBCA05;--color-yellow-400: #FFDC4E;--color-yellow-300: #FFE372;--color-yellow-200: #FFF0B1;--color-yellow-100: #FFF6D3;--color-yellow-50: #FFFCEE;--color-green-900: #00190F;--color-green-800: #002817;--color-green-700: #006037;--color-green-600: #00B467;--color-green-500: #0DD885;--color-green-400: #3CEEA5;--color-green-300: #86FBCB;--color-green-200: #C3FFE6;--color-green-100: #DEFFF1;--color-green-50: #ECFFF7;--color-gray-900: #121110;--color-gray-800: #201E1B;--color-gray-700: #36332E;--color-gray-600: #67635D;--color-gray-500: #97948F;--color-gray-400: #ADA9A4;--color-gray-300: #DBD9D3;--color-gray-200: #ECEBE8;--color-gray-100: #F6F5F4;--color-gray-50: #FBFBFB;--color-black: #0B0A0A;--color-white: #ffffff;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--docus-search-results-highlight-backgroundColor: var(--color-primary-500);--docus-search-results-selected-backgroundColor: var(--color-gray-300);--docus-search-results-window-borderRadius: none;--docus-search-results-window-marginX: 0;--docus-search-input-backgroundColor: var(--color-gray-200);--docus-search-input-padding: var(--space-2) var(--space-4);--docus-search-input-gap: var(--space-2);--docus-search-input-fontSize: var(--fontSize-sm);--docus-search-input-borderColor: var(--color-gray-200);--docus-search-input-borderRadius: var(--radii-2xs);--docus-footer-padding: var(--space-4) 0;--docus-header-title-color-hover: var(--color-primary-500);--docus-header-title-color-static: var(--color-gray-900);--docus-header-title-fontWeight: var(--fontWeight-bold);--docus-header-title-fontSize: var(--fontSize-2xl);--docus-header-logo-height: var(--space-6);--docus-body-fontFamily: var(--font-sans);--docus-body-color: var(--color-gray-800);--docus-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--prose-p-fontSize: var(--typography-fontSize-base);--typography-color-secondary-900: var(--color-gray-900);--typography-color-secondary-800: var(--color-gray-800);--typography-color-secondary-700: var(--color-gray-700);--typography-color-secondary-600: var(--color-gray-600);--typography-color-secondary-500: var(--color-gray-500);--typography-color-secondary-400: var(--color-gray-400);--typography-color-secondary-300: var(--color-gray-300);--typography-color-secondary-200: var(--color-gray-200);--typography-color-secondary-100: var(--color-gray-100);--typography-color-secondary-50: var(--color-gray-50);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-6);--elements-container-padding-sm: var(--space-6);--elements-container-padding-xs: var(--space-4);--elements-container-padding-mobile: var(--space-4);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--color-shadow: var(--color-gray-400);--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400);--prose-a-color-hover: var(--typography-color-primary-500);--shadow-2xl: 0px 25px 50px -12px var(--color-shadow);--shadow-xl: 0px 20px 25px -5px var(--color-shadow), 0px 8px 10px -6px var(--color-shadow);--shadow-lg: 0px 10px 15px -3px var(--color-shadow), 0px 4px 6px -4px var(--color-shadow);--shadow-md: 0px 4px 6px -1px var(--color-shadow), 0px 2px 4px -2px var(--color-shadow);--shadow-sm: 0px 1px 3px 0px var(--color-shadow), 0px 1px 2px -1px var(--color-shadow);--shadow-xs: 0px 1px 2px 0px var(--color-shadow); } }@media { :root.dark {--pinceau-mq: dark; --prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--docus-search-results-selected-backgroundColor: var(--color-gray-700);--docus-search-input-backgroundColor: var(--color-gray-800);--docus-search-input-borderColor: transparent;--docus-header-title-color-static: var(--color-gray-100);--docus-body-color: var(--color-gray-200);--docus-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--color-shadow: var(--color-gray-800);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-code-border-color-static: var(--typography-color-secondary-600);--prose-a-color-hover: var(--typography-color-primary-400); } }@media (min-width: 640px) { :root {--pinceau-mq: sm; --docus-search-results-window-maxHeight: 320px;--docus-search-results-window-marginTop: 20vh;--docus-footer-height: 100px;--docus-search-results-window-borderRadius: var(--radii-xs);--docus-search-results-window-marginX: var(--space-4);--docus-header-logo-height: var(--space-7); } }</style><script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="theme";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="theme";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}</script></head><body><!--teleport start anchor--><!----><!--teleport anchor--><!--teleport start anchor--><!----><!--teleport anchor--><div id="__nuxt"><div class="app-layout" data-v-5c2f7786><div class="nuxt-progress" style="width:0%;opacity:0;background-size:Infinity% auto;" data-v-5c2f7786></div><header class="has-dialog" data-v-5c2f7786 data-v-f465a985><div class="container pv-soblzD pc-uT_x7t" data-v-f465a985 data-v-a8d7e2a7><!--[--><div class="section left" data-v-f465a985><!--[--><button aria-label="Menu" data-v-8fd30205><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" aria-hidden="”true”" data-v-8fd30205 data-v-e610b8e3>heroicons-outline:menu</span></button><!--teleport start--><!--teleport end--><!--]--><a href="/" class="navbar-logo" aria-label="Codchi" data-v-f465a985 data-v-58a8631e><span class="logo" data-v-58a8631e><div style="display:flex;align-items:center;gap:0.5rem;height:2rem;" data-v-58a8631e><img style="height:100%;" src="/favicon.ico" alt="Codchi Logo"><span style="font-size:var(--text-xl-fontSize);line-height:var(--text-xl-lineHeight);font-weight:var(--fontWeight-bolder);letter-spacing:var(--letterSpacing-tight);">Codchi</span></div></span></a></div><div class="section center" data-v-f465a985><a href="/" class="navbar-logo" aria-label="Codchi" data-v-f465a985 data-v-58a8631e><span class="logo" data-v-58a8631e><div style="display:flex;align-items:center;gap:0.5rem;height:2rem;" data-v-58a8631e><img style="height:100%;" src="/favicon.ico" alt="Codchi Logo"><span style="font-size:var(--text-xl-fontSize);line-height:var(--text-xl-lineHeight);font-weight:var(--fontWeight-bolder);letter-spacing:var(--letterSpacing-tight);">Codchi</span></div></span></a><!----></div><div class="section right" data-v-f465a985><!--[--><button type="button" aria-label="Search" data-v-d9f83610><span class="content" data-v-d9f83610><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d9f83610 data-v-e610b8e3>heroicons-outline:search</span><span data-v-d9f83610>Search</span><span data-v-d9f83610><kbd data-v-d9f83610>⌘</kbd><kbd data-v-d9f83610>K</kbd></span></span></button><!--teleport start--><!--teleport end--><!--]--><button aria-label="Color Mode" data-v-f465a985 data-v-87324333><span data-v-87324333>...</span></button><div class="social-icons" data-v-f465a985><!--[--><a href="https://github.com/aformatik/codchi" rel="noopener noreferrer" target="_blank" title="aformatik/codchi" aria-label="aformatik/codchi" data-v-22569e45><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-22569e45 data-v-e610b8e3>fa-brands:github</span></a><!--]--></div></div><!--]--></div></header><main data-v-5c2f7786><!--[--><div class="document-driven-page"><div class="container pv-soblzD pc-V-me4B docs-page-content fluid has-toc has-aside" data-v-73d798d2 data-v-a8d7e2a7><!--[--><aside class="aside-nav" data-v-73d798d2><nav class="app-aside" data-v-73d798d2 data-v-89fb8999><ul class="docs-aside-tree" data-v-89fb8999 data-v-d42239fd><!--[--><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>ph:star-duotone</span><span data-v-d42239fd>Introduction</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-down-up</span></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/introduction/what-is-codchi" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>What is Codchi?</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/introduction/installation" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Installation</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/introduction/first-code-machine" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Your first Code Machine</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/introduction/config" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Configuration</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/introduction/troubleshooting" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Troubleshooting</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/introduction/vm" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Migrating away from Codchi</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>mdi:bash</span><span data-v-d42239fd>Command Reference</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-down-up</span></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/clone" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi clone</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/codchi" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/completion" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi completion</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/delete" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi delete</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/duplicate" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi duplicate</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/exec" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi exec</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/gc" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi gc</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/init" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi init</span></span></a><!----></li><li class="has-parent-icon has-children bordered" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Module</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-up-down</span></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="bordered" data-v-d42239fd><a href="/usage/module/add" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi module add</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/module/delete" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi module delete</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/module/list" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi module list</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/module/module" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi module</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/module/set" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi module set</span></span></a><!----></li><!--]--></ul></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/rebuild" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi rebuild</span></span></a><!----></li><li class="has-parent-icon has-children bordered" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Secrets</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-up-down</span></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="bordered" data-v-d42239fd><a href="/usage/secrets/get" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi secrets get</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/secrets/list" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi secrets list</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/secrets/secrets" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi secrets</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/secrets/set" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi secrets set</span></span></a><!----></li><!--]--></ul></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/status" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi status</span></span></a><!----></li><li class="has-parent-icon has-children bordered" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Store</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-up-down</span></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="bordered" data-v-d42239fd><a href="/usage/store/debug" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi store debug</span></span></a><!----></li><li class="bordered" data-v-d42239fd><a href="/usage/store/store" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi store</span></span></a><!----></li><!--]--></ul></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/usage/tar" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>codchi tar</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>ph:gear-duotone</span><span data-v-d42239fd>Module Configuration</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-down-up</span></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/overview" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Overview</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/start" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Your first Module</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/secrets" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Secrets</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/misc" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Miscellaneous</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/devenv" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>flake.nix, devenv.sh, flox</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/editor" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Editor</span></span></a><!----></li><li class="has-parent-icon has-children bordered" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>ph:package-duotone</span><span data-v-d42239fd>Environments</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-up-down</span></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/environments/gpu" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>GPU</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/environments/javascript" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Javascript</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/environments/jvm" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>JVM</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/environments/nix" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Nix</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/environments/python" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Python</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/environments/rust" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Rust</span></span></a><!----></li><!--]--></ul></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/config/codchi-specific-nixos-options" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Codchi Specific NixOS Options</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>ph:github-logo-duotone</span><span data-v-d42239fd>Contributing</span></span><span data-v-d42239fd><span class="icon collapsible-icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>lucide:chevrons-down-up</span></span></button><ul class="docs-aside-tree recursive" style="" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered active" data-v-d42239fd><a aria-current="page" href="/contrib/internals" class="router-link-active router-link-exact-active link padded active" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Internals</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/contrib/roadmap" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Roadmap</span></span></a><!----></li><!--]--></ul></li><!--]--></ul></nav></aside><article class="page-body" data-v-73d798d2><!--[--><!--[--><div><h1 id="internals" data-v-2001208a><a aria-current="page" href="/contrib/internals#internals" class="router-link-active router-link-exact-active" data-v-2001208a><!--[-->Internals<!--]--><!----></a></h1><p data-v-9dc9c102><!--[-->This page describes the internals of Codchi. For an overview of what Codchi is read <a href="/introduction/what-is-codchi" class="" data-v-692834dd><!--[-->What is Codchi?<!--]--></a><!--]--></p><h2 id="overview" data-v-70b0c1e2><a aria-current="page" href="/contrib/internals#overview" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->Overview<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->Technically Codchi is just a &quot;driver&quot; for any NixOS module, such as:<!--]--></p><div class="highlight-nix prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-nix shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E">{ 
</span></span><span class="line" line="2"><span style="--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-default:#B31D28;--shiki-default-font-style:italic">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><span class="icon" style="font-size:18px;line-height:18px;width:18px;height:18px;" data-v-4a003820 data-v-e610b8e3>ph:copy</span></span></button></div><p data-v-9dc9c102><!--[-->That is just an empty NixOS module. To build this into a bootable machine without Codchi, you need to provide the hardware configuration (e.g. file system layout, boot loader, kernel, kernel module &amp; options, desktop environment, ...). This can vary a lot from machine to machine, although virtual machines alleviate some of this.<!--]--></p><p data-v-9dc9c102><!--[-->With Codchi, however, the empty module above is a buildable machine configuration on Windows 10 &amp; 11 and Linux:<!--]--></p><div class="highlight-bash prose-code" meta data-v-c164ce0a><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">codchi</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62"> init</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62"> empty-machine
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1">codchi</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62"> exec</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62"> empty-machine</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5"> --</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62"> uname</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5"> -a
</span></span><span class="line" line="3"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E"> Linux nixos 6.6.32 </span><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D">#1-NixOS SMP PREEMPT_DYNAMIC Sat May 25 14:22:56 UTC 2024 x86_64 GNU/Linux
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-c164ce0a data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><span class="icon" style="font-size:18px;line-height:18px;width:18px;height:18px;" data-v-4a003820 data-v-e610b8e3>ph:copy</span></span></button></div><p data-v-9dc9c102><!--[-->This works because Codchi provides the hardware configuration, the drivers (i.e. WSL, LXD and so on), as well as host integration such as GUI and sound support, file system sharing between code machine and host, and much more.<!--]--></p><p data-v-9dc9c102><!--[-->The goal is to provide an easy to use NixOS driver for different platforms (currently Windows &amp; Linux), where everything hardware related just works.<!--]--></p><h2 id="capabilities" data-v-70b0c1e2><a aria-current="page" href="/contrib/internals#capabilities" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->Capabilities<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->These are the capabilities provided by Codchi. Every new driver must at least fully implement the &quot;must&quot; items.<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->Category<!--]--></th><th data-v-40ddd69b><!--[-->Capability<!--]--></th><th data-v-40ddd69b><!--[-->Must / Should<!--]--></th><th data-v-40ddd69b><!--[-->Windows + WSL<!--]--></th><th data-v-40ddd69b><!--[-->Linux + LXD<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Architecture<!--]--></td><td data-v-5f84e3ba><!--[-->Each code machine on a host uses a shared store accessible via <code class="" data-v-2f6bd69d><!--[-->nix-daemon<!--]--></code><!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Architecture<!--]--></td><td data-v-5f84e3ba><!--[-->The file system of each code machine on a host can be accessed by the store for local NixOS configuration<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Run full NixOS<!--]--></td><td data-v-5f84e3ba><!--[-->SystemD working properly<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Run full NixOS<!--]--></td><td data-v-5f84e3ba><!--[-->Proper login shell, i.e. <code class="" data-v-2f6bd69d><!--[-->codchi exec<!--]--></code> creates a proper login shell with <code class="" data-v-2f6bd69d><!--[-->$DISPLAY<!--]--></code> set.  This is essential for the environment variables to be set correctly and for everything to start up correctly, including XDG autostart entries<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->❔<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->GUI &amp; Sound: <code class="" data-v-2f6bd69d><!--[-->codchi exec &lt;MACHINE_NAME&gt; -- nix run nixpkgs#xorg.xeyes<!--]--></code> must open xeyes on the host&#39;s desktop. X11 and wayland apps (with sound) must work.<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->❔<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->Tray icon: Codchi must be controllable through a tray icon on the host.<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->Shortcuts to each program in each code machine must be visible in the host&#39;s start menu, such that GUI and terminal applications can be started with a single click.<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->Terminal: Codchi must be integrated with the host&#39;s terminal, such that a terminal with a shell into each code machine can be opened from the codchi tray.<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->Secrets: A code machine can define secrets, which the codchi driver must store (preferably encrypted) on the host and provide it on code machine start.<!--]--></td><td data-v-5f84e3ba><!--[-->Must<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->File system sharing: The file system of each code machine should be accessible from the host, e.g. as with WSL.<!--]--></td><td data-v-5f84e3ba><!--[-->Should<!--]--></td><td data-v-5f84e3ba><!--[-->✅<!--]--></td><td data-v-5f84e3ba><!--[-->🚧 (Generally works through LXD, but UX can be improved)<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->GPU: If the host has a GPU driver installed, it should be usable from within a code machine.<!--]--></td><td data-v-5f84e3ba><!--[-->Should<!--]--></td><td data-v-5f84e3ba><!--[-->❔<!--]--></td><td data-v-5f84e3ba><!--[-->❔<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->USB: USBs plugged into the host should be accessible from within a code machine.<!--]--></td><td data-v-5f84e3ba><!--[-->Should<!--]--></td><td data-v-5f84e3ba><!--[-->📝<!--]--></td><td data-v-5f84e3ba><!--[-->📝<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->Host Integration<!--]--></td><td data-v-5f84e3ba><!--[-->SSL certificates: The hosts trust chain should be used inside a code machine, so that self signed certificates work (often used in enterprises).<!--]--></td><td data-v-5f84e3ba><!--[-->Should<!--]--></td><td data-v-5f84e3ba><!--[-->📝<!--]--></td><td data-v-5f84e3ba><!--[-->📝<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><p data-v-9dc9c102><!--[--><strong data-v-84b57b07><!--[-->Legend<!--]--></strong><!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->✅ = Fully implemented and tested<!--]--></li><li data-v-4c2f5fb9><!--[-->❔ = Implemented, but untestet / buggy<!--]--></li><li data-v-4c2f5fb9><!--[-->🚧 = WIP<!--]--></li><li data-v-4c2f5fb9><!--[-->📝 = Planned<!--]--></li><li data-v-4c2f5fb9><!--[-->❌ = Not implemented<!--]--></li><!--]--></ul><h2 id="drivers" data-v-70b0c1e2><a aria-current="page" href="/contrib/internals#drivers" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->Drivers<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->A Codchi driver has three parts:<!--]--></p><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->The host driver:<!--]--></strong> This is a part of the Codchi executable that runs natively on the host and interfaces between generic code, the operating system and the virtualization software. Codchi&#39;s configuration and machine data files also reside on the host and must be shared with <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> and each code machine. Repository: <code class="" data-v-2f6bd69d><!--[-->codchi<!--]--></code>, <code class="" data-v-2f6bd69d><!--[-->codchiw<!--]--></code><!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->The Store Driver:<!--]--></strong> The <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> is a minimal container in which the shared store resides and machines are built. This is where <code class="" data-v-2f6bd69d><!--[-->nix-daemon<!--]--></code> runs. <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> must share the <code class="" data-v-2f6bd69d><!--[-->/nix<!--]--></code> directory with each code machine via a bind mount. Repository: <code class="" data-v-2f6bd69d><!--[-->nix/container/store<!--]--></code><!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->The Machine Driver:<!--]--></strong> The Codchi machine driver is just a NixOS module that acts as a bridge between a hardware agnostic NixOS module and the host&#39;s virtualization software (Windows: WSL, Linux: LXD). It must make the file system of the code machine available to <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> in order to allow local NixOS configuration. The WSL part is heavily inspired by <a href="https://github.com/nix-community/NixOS-WSL" rel="nofollow" data-v-692834dd><!--[-->NixOS-WSL<!--]--></a>. Repository: <code class="" data-v-2f6bd69d><!--[-->nix/nixos/driver<!--]--></code><!--]--></li><!--]--></ol><div class="alert info" data-v-7c8a6eeb><div class="alert-content" data-v-7c8a6eeb><!--[--><strong data-v-7c8a6eeb data-v-84b57b07><!--[-->Note<!--]--></strong><br><br>One thing to note is that since a code machine doesn&#39;t have its own store, it can only run if <code class="" data-v-7c8a6eeb data-v-2f6bd69d><!--[-->codchistore<!--]--></code> is also running, and should therefore only be started by Codchi.<!--]--></div></div><h3 id="wsl" data-v-4cf5bb93><a aria-current="page" href="/contrib/internals#wsl" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->WSL<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->SystemD:<!--]--></strong> WSL natively supports SystemD.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->GUI:<!--]--></strong> Windows natively supports GUI applications within WSL with WSLg using a mixture of Wayland and RDP. Unfortunately, because of the latter, this doesn&#39;t really provide a native experience for Linux GUI applications. <del>Therefore, by default, <a href="https://github.com/marchaesen/vcxsrv" rel="nofollow" data-v-692834dd><!--[-->VcXsrv<!--]--></a>, a native Windows X server, is included and enabled in codchi. It can be disabled in <a href="/introduction/config" class="" data-v-692834dd><!--[-->configuration<!--]--></a>.</del><sup><a aria-current="page" href="/contrib/internals#user-content-fn-1" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-1" data-v-692834dd><!--[-->1<!--]--></a></sup><!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Sound:<!--]--></strong> WSLg provides a PulseAudio server by default which works well enough.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->File sharing:<!--]--></strong> Files are shared accross WSL instances via bind mounts in <code class="" data-v-2f6bd69d><!--[-->/mnt/wsl/codchi<!--]--></code>.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Environment variables, secrets:<!--]--></strong> Shared via <code class="" data-v-2f6bd69d><!--[-->$env:WSLENV<!--]--></code> and a file which is written by the host driver to <code class="" data-v-2f6bd69d><!--[-->\\wsl$\codchi-*\...<!--]--></code>.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Shortcuts:<!--]--></strong> Although WSL creates shortcuts itself, they only work if the code machine is already running. Therefore they are disabled and rather created by codchi itself so we can ensure that <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> is running.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Terminal integration:<!--]--></strong> <a href="https://learn.microsoft.com/en-us/windows/terminal/json-fragment-extensions" rel="nofollow" data-v-692834dd><!--[-->https://learn.microsoft.com/en-us/windows/terminal/json-fragment-extensions<!--]--></a><!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->GPU:<!--]--></strong> WSL provides access to the GPU installed on the host via dynamic libraries and executables. Since a code machine is a NixOS system some LD hacks are neccessary.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Host Integration:<!--]--></strong> The default applications inside each code machine are configured such that files or webpages open in the default Windows browser<!--]--></li><!--]--></ul><div class="alert warning" data-v-7c8a6eeb><div class="alert-content" data-v-7c8a6eeb><!--[--><strong data-v-7c8a6eeb data-v-84b57b07><!--[-->Issues with WSL<!--]--></strong><br><br>In the Windows tradition, WSL can sometimes fail for no apparent reason. For example, a Codchi command might fail, only to work when the same command is issued again. More work is needed in this area to catch all WSL hickups.<!--]--></div></div><h3 id="lxd" data-v-4cf5bb93><a aria-current="page" href="/contrib/internals#lxd" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->LXD<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->SystemD:<!--]--></strong> LXD doesn&#39;t care about the init system.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->GUI:<!--]--></strong> X11 and wayland sockets are shared via bind mounts. Also <code class="" data-v-2f6bd69d><!--[-->.Xauthority<!--]--></code> is copied into each machine.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Sound:<!--]--></strong> PulseAudio / PipeWire sockets are shared.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->File sharing:<!--]--></strong> All files reside on the host and are bind-mounted into <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> and each machine.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Environment variables, secrets:<!--]--></strong> Shared via <code class="" data-v-2f6bd69d><!--[-->lxc exec --env<!--]--></code> and a file which is copied into the machine.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Shortcuts:<!--]--></strong> Desktop entries and menus are generated in the corresponding XDG directories.<!--]--></li><!--]--></ul><h3 id="vm-export" data-v-4cf5bb93><a aria-current="page" href="/contrib/internals#vm-export" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->VM Export<!--]--><!----></a></h3><div class="alert info" data-v-7c8a6eeb><div class="alert-content" data-v-7c8a6eeb><!--[--><strong data-v-7c8a6eeb data-v-84b57b07><!--[-->Planned<!--]--></strong><br><br>Integration with <a href="https://github.com/nix-community/nixos-generators" rel="nofollow" data-v-7c8a6eeb data-v-692834dd><!--[-->nixos-generators<!--]--></a> is planned to allow exporting a code machine to any / some VM format(s).<!--]--></div></div><h2 id="codchi-modules" data-v-70b0c1e2><a aria-current="page" href="/contrib/internals#codchi-modules" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->Codchi Modules<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->Codchi also provides its own set of [NixOS Options](../3.config/99.Codchi specific NixOS Options.md) in order to provide<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Codchi-specific options (<code class="" data-v-2f6bd69d><!--[-->codchi.secrets<!--]--></code>, <code class="" data-v-2f6bd69d><!--[-->codchi.welcome<!--]--></code>)<!--]--></li><li data-v-4c2f5fb9><!--[-->options to easy the creation of a development environment (<code class="" data-v-2f6bd69d><!--[-->codchi.enableRecommendedConfig<!--]--></code>, <code class="" data-v-2f6bd69d><!--[-->codchi.docker<!--]--></code>).<!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->Repository: <code class="" data-v-2f6bd69d><!--[-->nix/nixos/modules<!--]--></code><!--]--></p><h2 id="guidelines" data-v-70b0c1e2><a aria-current="page" href="/contrib/internals#guidelines" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->Guidelines<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->These are the general design and contribution guidelines for Codchi. The goal is to make Codchi / NixOS easy to use and enjoyable while reducing the maintanence burden.<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Reliable &amp; Reproducible:<!--]--></strong> The native Codchi executable, <code class="" data-v-2f6bd69d><!--[-->codchistore<!--]--></code> and Codchi&#39;s NixOS configuration must be reliable. Quality of life features such as secrets must not affect the reproducibility of NixOS accross different hosts.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Fast<!--]--></strong><!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Easy to Use:<!--]--></strong><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Features should be kept to a minimum.<!--]--></li><li data-v-4c2f5fb9><!--[-->Codchi should feel familiar (<code class="" data-v-2f6bd69d><!--[-->git clone<!--]--></code>, <code class="" data-v-2f6bd69d><!--[-->docker exec<!--]--></code>).<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Building on Standards (NixOS modules):<!--]--></strong> No custom configuration format / vendor lock-in.<!--]--></li><li data-v-4c2f5fb9><!--[--><strong data-v-84b57b07><!--[-->Simplicity:<!--]--></strong><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Fewer but better features.<!--]--></li><li data-v-4c2f5fb9><!--[-->Simple design without a central Codchi-daemon.<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><section class="footnotes" data-footnotes><h2 id="footnote-label" class="sr-only" data-v-70b0c1e2><a aria-current="page" href="/contrib/internals#footnote-label" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->Footnotes<!--]--><!----></a></h2><ol data-v-e6ab85be><!--[--><li id="user-content-fn-1" data-v-4c2f5fb9><!--[-->Currently there are some security concerns in the GitHub repo of VcXsrv which is why it isn&#39;t included in Codchi by default anymore. But, if installed manually, it can still be used by Codchi (see <a href="/introduction/config" class="" data-v-692834dd><!--[-->config<!--]--></a>). <a aria-current="page" href="/contrib/internals#user-content-fnref-1" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 1" data-footnote-backref data-v-692834dd><!--[-->↩<!--]--></a><!--]--></li><!--]--></ol></section><style>html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--><!--]--><!--[--><div class="docs-page-bottom" data-v-73d798d2 data-v-346454d4><div class="edit-link" data-v-346454d4><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-346454d4 data-v-e610b8e3>uil:edit</span><!--[--><a href="https://github.com/aformatik/codchi/edit/master/docs/4.contrib/internals.md" rel="noopener noreferrer" data-v-346454d4 data-v-692834dd><!--[--><span data-v-346454d4> Edit this page on GitHub </span><!--]--></a><!--]--></div><!----></div><div class="docs-prev-next" data-v-73d798d2 data-v-30e1aea1><a href="/config/codchi-specific-nixos-options" class="prev" data-v-30e1aea1><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-30e1aea1 data-v-e610b8e3>heroicons-outline:arrow-sm-left</span><div class="wrapper" data-v-30e1aea1><span class="directory" data-v-30e1aea1>Config</span><span class="title" data-v-30e1aea1>Codchi Specific NixOS Options</span></div></a><a href="/contrib/roadmap" class="next" data-v-30e1aea1><div class="wrapper" data-v-30e1aea1><span class="directory" data-v-30e1aea1>Contrib</span><span class="title" data-v-30e1aea1>Roadmap</span></div><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-30e1aea1 data-v-e610b8e3>heroicons-outline:arrow-sm-right</span></a></div><!--]--></article><div class="toc" data-v-73d798d2><div class="toc-wrapper" data-v-73d798d2><button data-v-73d798d2><span class="title" data-v-73d798d2>Table of Contents</span><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-73d798d2 data-v-e610b8e3>heroicons-outline:chevron-right</span></button><div class="docs-toc-wrapper" data-v-73d798d2><div class="docs-toc" data-v-73d798d2 data-v-ebd2b6b2><!--[--><div class="docs-toc-title" data-v-ebd2b6b2><span data-v-ebd2b6b2>Table of Contents</span></div><ul class="docs-toc-links" data-v-ebd2b6b2 data-v-a97df893><!--[--><li class="depth-2" data-v-a97df893><a href="#overview" class="" data-v-a97df893>Overview</a><!----></li><li class="depth-2" data-v-a97df893><a href="#capabilities" class="" data-v-a97df893>Capabilities</a><!----></li><li class="depth-2" data-v-a97df893><a href="#drivers" class="" data-v-a97df893>Drivers</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#wsl" class="" data-v-a97df893>WSL</a><!----></li><li class="depth-3" data-v-a97df893><a href="#lxd" class="" data-v-a97df893>LXD</a><!----></li><li class="depth-3" data-v-a97df893><a href="#vm-export" class="" data-v-a97df893>VM Export</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#codchi-modules" class="" data-v-a97df893>Codchi Modules</a><!----></li><li class="depth-2" data-v-a97df893><a href="#guidelines" class="" data-v-a97df893>Guidelines</a><!----></li><li class="depth-2" data-v-a97df893><a href="#footnote-label" class="" data-v-a97df893>Footnotes</a><!----></li><!--]--></ul><!--]--></div></div></div></div><!--]--></div></div><!--]--></main><footer data-v-5c2f7786 data-v-39bdaab3><div class="container pv-PFq368 pc-c7SAJ3 footer-container" data-v-39bdaab3 data-v-a8d7e2a7><!--[--><div class="left" data-v-39bdaab3><a href="https://docus.dev" rel="noopener" target="_blank" data-v-39bdaab3><svg viewbox="0 0 57 57" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon left-icon" width="1em" height="1em" data-v-39bdaab3 data-v-e610b8e3><path fill-rule="evenodd" clip-rule="evenodd" d="M28.5445 0C12.8044 0 0 12.7599 0 28.5v25.4549c0 1.5835 1.28368 2.8672 2.86718 2.8672H28.5889C44.2799 56.8221 57 44.102 57 28.4111 57 12.7201 44.2355 0 28.5445 0Zm15.4963 34.452c3.3649 0 6.0927-2.7278 6.0927-6.0928 0-3.3649-2.7278-6.0927-6.0927-6.0927-3.365 0-6.0928 2.7278-6.0928 6.0927 0 3.365 2.7278 6.0928 6.0928 6.0928Zm-18.0833.0003c3.3649 0 6.0927-2.7278 6.0927-6.0927s-2.7278-6.0928-6.0927-6.0928-6.0928 2.7279-6.0928 6.0928c0 3.3649 2.7279 6.0927 6.0928 6.0927Z" fill="currentColor"></path></svg><p data-v-39bdaab3>Powered by Docus</p></a></div><div class="center" data-v-39bdaab3><!--[--><!--]--></div><div class="right" data-v-39bdaab3><!--[--><!--]--><!--[--><a href="https://github.com/aformatik/codchi" rel="noopener noreferrer" target="_blank" title="aformatik/codchi" aria-label="aformatik/codchi" data-v-22569e45><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-22569e45 data-v-e610b8e3>fa-brands:github</span></a><!--]--></div><!--]--></div></footer></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/contrib/internals/_payload.json?d6444895-0207-47d7-83fa-88c3502fb655">[{"state":1,"once":1524,"_errors":1525,"serverRendered":1354,"path":7,"prerenderedAt":1528},["Reactive",2],{"$sdd-pages":3,"$sdd-surrounds":1334,"$sdd-globals":1350,"$scolor-mode":1352,"$sdd-navigation":1355,"$sicons":1512,"$sasideScroll":1513,"$sdocus-docs-aside-collapse-map-/":1515,"$sdocus-docs-aside-collapse-map-/introduction":1516,"$sdocus-docs-aside-collapse-map-/usage":1517,"$sdocus-docs-aside-collapse-map-/usage/module":1518,"$sdocus-docs-aside-collapse-map-/usage/secrets":1519,"$sdocus-docs-aside-collapse-map-/usage/store":1520,"$sdocus-docs-aside-collapse-map-/config":1521,"$sdocus-docs-aside-collapse-map-/config/environments":1522,"$sdocus-docs-aside-collapse-map-/contrib":1523},["ShallowRef",4],["ShallowReactive",5],{"/contrib/internals":6},{"_path":7,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":11,"description":12,"body":13,"_type":1327,"_id":1328,"_source":1329,"_file":1330,"_stem":1331,"_extension":1332,"layout":1333},"/contrib/internals","contrib",false,"","Internals","This page describes the internals of Codchi. For an overview of what Codchi is read What is Codchi?",{"type":14,"children":15,"toc":1315},"root",[16,24,37,44,49,82,87,92,175,180,185,191,196,590,599,629,635,640,753,785,792,956,979,985,1064,1070,1101,1107,1112,1155,1166,1172,1177,1271,1309],{"type":17,"tag":18,"props":19,"children":21},"element","h1",{"id":20},"internals",[22],{"type":23,"value":11},"text",{"type":17,"tag":25,"props":26,"children":27},"p",{},[28,30],{"type":23,"value":29},"This page describes the internals of Codchi. For an overview of what Codchi is read ",{"type":17,"tag":31,"props":32,"children":34},"a",{"href":33},"../introduction/what-is-codchi",[35],{"type":23,"value":36},"What is Codchi?",{"type":17,"tag":38,"props":39,"children":41},"h2",{"id":40},"overview",[42],{"type":23,"value":43},"Overview",{"type":17,"tag":25,"props":45,"children":46},{},[47],{"type":23,"value":48},"Technically Codchi is just a \"driver\" for any NixOS module, such as:",{"type":17,"tag":50,"props":51,"children":55},"pre",{"className":52,"code":53,"language":54,"meta":10,"style":10},"language-nix shiki shiki-themes github-dark github-light","{ \n}\n","nix",[56],{"type":17,"tag":57,"props":58,"children":59},"code",{"__ignoreMap":10},[60,72],{"type":17,"tag":61,"props":62,"children":65},"span",{"class":63,"line":64},"line",1,[66],{"type":17,"tag":61,"props":67,"children":69},{"style":68},"--shiki-dark:#E1E4E8;--shiki-default:#24292E",[70],{"type":23,"value":71},"{ \n",{"type":17,"tag":61,"props":73,"children":75},{"class":63,"line":74},2,[76],{"type":17,"tag":61,"props":77,"children":79},{"style":78},"--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-default:#B31D28;--shiki-default-font-style:italic",[80],{"type":23,"value":81},"}\n",{"type":17,"tag":25,"props":83,"children":84},{},[85],{"type":23,"value":86},"That is just an empty NixOS module. To build this into a bootable machine without Codchi, you need to provide the hardware configuration (e.g. file system layout, boot loader, kernel, kernel module & options, desktop environment, ...). This can vary a lot from machine to machine, although virtual machines alleviate some of this.",{"type":17,"tag":25,"props":88,"children":89},{},[90],{"type":23,"value":91},"With Codchi, however, the empty module above is a buildable machine configuration on Windows 10 & 11 and Linux:",{"type":17,"tag":50,"props":93,"children":97},{"className":94,"code":95,"language":96,"meta":10,"style":10},"language-bash shiki shiki-themes github-dark github-light","codchi init empty-machine\ncodchi exec empty-machine -- uname -a\n> Linux nixos 6.6.32 #1-NixOS SMP PREEMPT_DYNAMIC Sat May 25 14:22:56 UTC 2024 x86_64 GNU/Linux\n","bash",[98],{"type":17,"tag":57,"props":99,"children":100},{"__ignoreMap":10},[101,121,154],{"type":17,"tag":61,"props":102,"children":103},{"class":63,"line":64},[104,110,116],{"type":17,"tag":61,"props":105,"children":107},{"style":106},"--shiki-dark:#B392F0;--shiki-default:#6F42C1",[108],{"type":23,"value":109},"codchi",{"type":17,"tag":61,"props":111,"children":113},{"style":112},"--shiki-dark:#9ECBFF;--shiki-default:#032F62",[114],{"type":23,"value":115}," init",{"type":17,"tag":61,"props":117,"children":118},{"style":112},[119],{"type":23,"value":120}," empty-machine\n",{"type":17,"tag":61,"props":122,"children":123},{"class":63,"line":74},[124,128,133,138,144,149],{"type":17,"tag":61,"props":125,"children":126},{"style":106},[127],{"type":23,"value":109},{"type":17,"tag":61,"props":129,"children":130},{"style":112},[131],{"type":23,"value":132}," exec",{"type":17,"tag":61,"props":134,"children":135},{"style":112},[136],{"type":23,"value":137}," empty-machine",{"type":17,"tag":61,"props":139,"children":141},{"style":140},"--shiki-dark:#79B8FF;--shiki-default:#005CC5",[142],{"type":23,"value":143}," --",{"type":17,"tag":61,"props":145,"children":146},{"style":112},[147],{"type":23,"value":148}," uname",{"type":17,"tag":61,"props":150,"children":151},{"style":140},[152],{"type":23,"value":153}," -a\n",{"type":17,"tag":61,"props":155,"children":157},{"class":63,"line":156},3,[158,164,169],{"type":17,"tag":61,"props":159,"children":161},{"style":160},"--shiki-dark:#F97583;--shiki-default:#D73A49",[162],{"type":23,"value":163},">",{"type":17,"tag":61,"props":165,"children":166},{"style":68},[167],{"type":23,"value":168}," Linux nixos 6.6.32 ",{"type":17,"tag":61,"props":170,"children":172},{"style":171},"--shiki-dark:#6A737D;--shiki-default:#6A737D",[173],{"type":23,"value":174},"#1-NixOS SMP PREEMPT_DYNAMIC Sat May 25 14:22:56 UTC 2024 x86_64 GNU/Linux\n",{"type":17,"tag":25,"props":176,"children":177},{},[178],{"type":23,"value":179},"This works because Codchi provides the hardware configuration, the drivers (i.e. WSL, LXD and so on), as well as host integration such as GUI and sound support, file system sharing between code machine and host, and much more.",{"type":17,"tag":25,"props":181,"children":182},{},[183],{"type":23,"value":184},"The goal is to provide an easy to use NixOS driver for different platforms (currently Windows & Linux), where everything hardware related just works.",{"type":17,"tag":38,"props":186,"children":188},{"id":187},"capabilities",[189],{"type":23,"value":190},"Capabilities",{"type":17,"tag":25,"props":192,"children":193},{},[194],{"type":23,"value":195},"These are the capabilities provided by Codchi. Every new driver must at least fully implement the \"must\" items.",{"type":17,"tag":197,"props":198,"children":199},"table",{},[200,234],{"type":17,"tag":201,"props":202,"children":203},"thead",{},[204],{"type":17,"tag":205,"props":206,"children":207},"tr",{},[208,214,219,224,229],{"type":17,"tag":209,"props":210,"children":211},"th",{},[212],{"type":23,"value":213},"Category",{"type":17,"tag":209,"props":215,"children":216},{},[217],{"type":23,"value":218},"Capability",{"type":17,"tag":209,"props":220,"children":221},{},[222],{"type":23,"value":223},"Must / Should",{"type":17,"tag":209,"props":225,"children":226},{},[227],{"type":23,"value":228},"Windows + WSL",{"type":17,"tag":209,"props":230,"children":231},{},[232],{"type":23,"value":233},"Linux + LXD",{"type":17,"tag":235,"props":236,"children":237},"tbody",{},[238,272,296,321,362,395,419,443,467,491,517,541,566],{"type":17,"tag":205,"props":239,"children":240},{},[241,247,258,263,268],{"type":17,"tag":242,"props":243,"children":244},"td",{},[245],{"type":23,"value":246},"Architecture",{"type":17,"tag":242,"props":248,"children":249},{},[250,252],{"type":23,"value":251},"Each code machine on a host uses a shared store accessible via ",{"type":17,"tag":57,"props":253,"children":255},{"className":254},[],[256],{"type":23,"value":257},"nix-daemon",{"type":17,"tag":242,"props":259,"children":260},{},[261],{"type":23,"value":262},"Must",{"type":17,"tag":242,"props":264,"children":265},{},[266],{"type":23,"value":267},"✅",{"type":17,"tag":242,"props":269,"children":270},{},[271],{"type":23,"value":267},{"type":17,"tag":205,"props":273,"children":274},{},[275,279,284,288,292],{"type":17,"tag":242,"props":276,"children":277},{},[278],{"type":23,"value":246},{"type":17,"tag":242,"props":280,"children":281},{},[282],{"type":23,"value":283},"The file system of each code machine on a host can be accessed by the store for local NixOS configuration",{"type":17,"tag":242,"props":285,"children":286},{},[287],{"type":23,"value":262},{"type":17,"tag":242,"props":289,"children":290},{},[291],{"type":23,"value":267},{"type":17,"tag":242,"props":293,"children":294},{},[295],{"type":23,"value":267},{"type":17,"tag":205,"props":297,"children":298},{},[299,304,309,313,317],{"type":17,"tag":242,"props":300,"children":301},{},[302],{"type":23,"value":303},"Run full NixOS",{"type":17,"tag":242,"props":305,"children":306},{},[307],{"type":23,"value":308},"SystemD working properly",{"type":17,"tag":242,"props":310,"children":311},{},[312],{"type":23,"value":262},{"type":17,"tag":242,"props":314,"children":315},{},[316],{"type":23,"value":267},{"type":17,"tag":242,"props":318,"children":319},{},[320],{"type":23,"value":267},{"type":17,"tag":205,"props":322,"children":323},{},[324,328,349,353,357],{"type":17,"tag":242,"props":325,"children":326},{},[327],{"type":23,"value":303},{"type":17,"tag":242,"props":329,"children":330},{},[331,333,339,341,347],{"type":23,"value":332},"Proper login shell, i.e. ",{"type":17,"tag":57,"props":334,"children":336},{"className":335},[],[337],{"type":23,"value":338},"codchi exec",{"type":23,"value":340}," creates a proper login shell with ",{"type":17,"tag":57,"props":342,"children":344},{"className":343},[],[345],{"type":23,"value":346},"$DISPLAY",{"type":23,"value":348}," set.  This is essential for the environment variables to be set correctly and for everything to start up correctly, including XDG autostart entries",{"type":17,"tag":242,"props":350,"children":351},{},[352],{"type":23,"value":262},{"type":17,"tag":242,"props":354,"children":355},{},[356],{"type":23,"value":267},{"type":17,"tag":242,"props":358,"children":359},{},[360],{"type":23,"value":361},"❔",{"type":17,"tag":205,"props":363,"children":364},{},[365,370,383,387,391],{"type":17,"tag":242,"props":366,"children":367},{},[368],{"type":23,"value":369},"Host Integration",{"type":17,"tag":242,"props":371,"children":372},{},[373,375,381],{"type":23,"value":374},"GUI & Sound: ",{"type":17,"tag":57,"props":376,"children":378},{"className":377},[],[379],{"type":23,"value":380},"codchi exec \u003CMACHINE_NAME> -- nix run nixpkgs#xorg.xeyes",{"type":23,"value":382}," must open xeyes on the host's desktop. X11 and wayland apps (with sound) must work.",{"type":17,"tag":242,"props":384,"children":385},{},[386],{"type":23,"value":262},{"type":17,"tag":242,"props":388,"children":389},{},[390],{"type":23,"value":267},{"type":17,"tag":242,"props":392,"children":393},{},[394],{"type":23,"value":361},{"type":17,"tag":205,"props":396,"children":397},{},[398,402,407,411,415],{"type":17,"tag":242,"props":399,"children":400},{},[401],{"type":23,"value":369},{"type":17,"tag":242,"props":403,"children":404},{},[405],{"type":23,"value":406},"Tray icon: Codchi must be controllable through a tray icon on the host.",{"type":17,"tag":242,"props":408,"children":409},{},[410],{"type":23,"value":262},{"type":17,"tag":242,"props":412,"children":413},{},[414],{"type":23,"value":267},{"type":17,"tag":242,"props":416,"children":417},{},[418],{"type":23,"value":267},{"type":17,"tag":205,"props":420,"children":421},{},[422,426,431,435,439],{"type":17,"tag":242,"props":423,"children":424},{},[425],{"type":23,"value":369},{"type":17,"tag":242,"props":427,"children":428},{},[429],{"type":23,"value":430},"Shortcuts to each program in each code machine must be visible in the host's start menu, such that GUI and terminal applications can be started with a single click.",{"type":17,"tag":242,"props":432,"children":433},{},[434],{"type":23,"value":262},{"type":17,"tag":242,"props":436,"children":437},{},[438],{"type":23,"value":267},{"type":17,"tag":242,"props":440,"children":441},{},[442],{"type":23,"value":267},{"type":17,"tag":205,"props":444,"children":445},{},[446,450,455,459,463],{"type":17,"tag":242,"props":447,"children":448},{},[449],{"type":23,"value":369},{"type":17,"tag":242,"props":451,"children":452},{},[453],{"type":23,"value":454},"Terminal: Codchi must be integrated with the host's terminal, such that a terminal with a shell into each code machine can be opened from the codchi tray.",{"type":17,"tag":242,"props":456,"children":457},{},[458],{"type":23,"value":262},{"type":17,"tag":242,"props":460,"children":461},{},[462],{"type":23,"value":267},{"type":17,"tag":242,"props":464,"children":465},{},[466],{"type":23,"value":267},{"type":17,"tag":205,"props":468,"children":469},{},[470,474,479,483,487],{"type":17,"tag":242,"props":471,"children":472},{},[473],{"type":23,"value":369},{"type":17,"tag":242,"props":475,"children":476},{},[477],{"type":23,"value":478},"Secrets: A code machine can define secrets, which the codchi driver must store (preferably encrypted) on the host and provide it on code machine start.",{"type":17,"tag":242,"props":480,"children":481},{},[482],{"type":23,"value":262},{"type":17,"tag":242,"props":484,"children":485},{},[486],{"type":23,"value":267},{"type":17,"tag":242,"props":488,"children":489},{},[490],{"type":23,"value":267},{"type":17,"tag":205,"props":492,"children":493},{},[494,498,503,508,512],{"type":17,"tag":242,"props":495,"children":496},{},[497],{"type":23,"value":369},{"type":17,"tag":242,"props":499,"children":500},{},[501],{"type":23,"value":502},"File system sharing: The file system of each code machine should be accessible from the host, e.g. as with WSL.",{"type":17,"tag":242,"props":504,"children":505},{},[506],{"type":23,"value":507},"Should",{"type":17,"tag":242,"props":509,"children":510},{},[511],{"type":23,"value":267},{"type":17,"tag":242,"props":513,"children":514},{},[515],{"type":23,"value":516},"🚧 (Generally works through LXD, but UX can be improved)",{"type":17,"tag":205,"props":518,"children":519},{},[520,524,529,533,537],{"type":17,"tag":242,"props":521,"children":522},{},[523],{"type":23,"value":369},{"type":17,"tag":242,"props":525,"children":526},{},[527],{"type":23,"value":528},"GPU: If the host has a GPU driver installed, it should be usable from within a code machine.",{"type":17,"tag":242,"props":530,"children":531},{},[532],{"type":23,"value":507},{"type":17,"tag":242,"props":534,"children":535},{},[536],{"type":23,"value":361},{"type":17,"tag":242,"props":538,"children":539},{},[540],{"type":23,"value":361},{"type":17,"tag":205,"props":542,"children":543},{},[544,548,553,557,562],{"type":17,"tag":242,"props":545,"children":546},{},[547],{"type":23,"value":369},{"type":17,"tag":242,"props":549,"children":550},{},[551],{"type":23,"value":552},"USB: USBs plugged into the host should be accessible from within a code machine.",{"type":17,"tag":242,"props":554,"children":555},{},[556],{"type":23,"value":507},{"type":17,"tag":242,"props":558,"children":559},{},[560],{"type":23,"value":561},"📝",{"type":17,"tag":242,"props":563,"children":564},{},[565],{"type":23,"value":561},{"type":17,"tag":205,"props":567,"children":568},{},[569,573,578,582,586],{"type":17,"tag":242,"props":570,"children":571},{},[572],{"type":23,"value":369},{"type":17,"tag":242,"props":574,"children":575},{},[576],{"type":23,"value":577},"SSL certificates: The hosts trust chain should be used inside a code machine, so that self signed certificates work (often used in enterprises).",{"type":17,"tag":242,"props":579,"children":580},{},[581],{"type":23,"value":507},{"type":17,"tag":242,"props":583,"children":584},{},[585],{"type":23,"value":561},{"type":17,"tag":242,"props":587,"children":588},{},[589],{"type":23,"value":561},{"type":17,"tag":25,"props":591,"children":592},{},[593],{"type":17,"tag":594,"props":595,"children":596},"strong",{},[597],{"type":23,"value":598},"Legend",{"type":17,"tag":600,"props":601,"children":602},"ul",{},[603,609,614,619,624],{"type":17,"tag":604,"props":605,"children":606},"li",{},[607],{"type":23,"value":608},"✅ = Fully implemented and tested",{"type":17,"tag":604,"props":610,"children":611},{},[612],{"type":23,"value":613},"❔ = Implemented, but untestet / buggy",{"type":17,"tag":604,"props":615,"children":616},{},[617],{"type":23,"value":618},"🚧 = WIP",{"type":17,"tag":604,"props":620,"children":621},{},[622],{"type":23,"value":623},"📝 = Planned",{"type":17,"tag":604,"props":625,"children":626},{},[627],{"type":23,"value":628},"❌ = Not implemented",{"type":17,"tag":38,"props":630,"children":632},{"id":631},"drivers",[633],{"type":23,"value":634},"Drivers",{"type":17,"tag":25,"props":636,"children":637},{},[638],{"type":23,"value":639},"A Codchi driver has three parts:",{"type":17,"tag":641,"props":642,"children":643},"ol",{},[644,675,720],{"type":17,"tag":604,"props":645,"children":646},{},[647,652,654,660,662,667,669],{"type":17,"tag":594,"props":648,"children":649},{},[650],{"type":23,"value":651},"The host driver:",{"type":23,"value":653}," This is a part of the Codchi executable that runs natively on the host and interfaces between generic code, the operating system and the virtualization software. Codchi's configuration and machine data files also reside on the host and must be shared with ",{"type":17,"tag":57,"props":655,"children":657},{"className":656},[],[658],{"type":23,"value":659},"codchistore",{"type":23,"value":661}," and each code machine. Repository: ",{"type":17,"tag":57,"props":663,"children":665},{"className":664},[],[666],{"type":23,"value":109},{"type":23,"value":668},", ",{"type":17,"tag":57,"props":670,"children":672},{"className":671},[],[673],{"type":23,"value":674},"codchiw",{"type":17,"tag":604,"props":676,"children":677},{},[678,683,685,690,692,697,699,704,706,712,714],{"type":17,"tag":594,"props":679,"children":680},{},[681],{"type":23,"value":682},"The Store Driver:",{"type":23,"value":684}," The ",{"type":17,"tag":57,"props":686,"children":688},{"className":687},[],[689],{"type":23,"value":659},{"type":23,"value":691}," is a minimal container in which the shared store resides and machines are built. This is where ",{"type":17,"tag":57,"props":693,"children":695},{"className":694},[],[696],{"type":23,"value":257},{"type":23,"value":698}," runs. ",{"type":17,"tag":57,"props":700,"children":702},{"className":701},[],[703],{"type":23,"value":659},{"type":23,"value":705}," must share the ",{"type":17,"tag":57,"props":707,"children":709},{"className":708},[],[710],{"type":23,"value":711},"/nix",{"type":23,"value":713}," directory with each code machine via a bind mount. Repository: ",{"type":17,"tag":57,"props":715,"children":717},{"className":716},[],[718],{"type":23,"value":719},"nix/container/store",{"type":17,"tag":604,"props":721,"children":722},{},[723,728,730,735,737,745,747],{"type":17,"tag":594,"props":724,"children":725},{},[726],{"type":23,"value":727},"The Machine Driver:",{"type":23,"value":729}," The Codchi machine driver is just a NixOS module that acts as a bridge between a hardware agnostic NixOS module and the host's virtualization software (Windows: WSL, Linux: LXD). It must make the file system of the code machine available to ",{"type":17,"tag":57,"props":731,"children":733},{"className":732},[],[734],{"type":23,"value":659},{"type":23,"value":736}," in order to allow local NixOS configuration. The WSL part is heavily inspired by ",{"type":17,"tag":31,"props":738,"children":742},{"href":739,"rel":740},"https://github.com/nix-community/NixOS-WSL",[741],"nofollow",[743],{"type":23,"value":744},"NixOS-WSL",{"type":23,"value":746},". Repository: ",{"type":17,"tag":57,"props":748,"children":750},{"className":749},[],[751],{"type":23,"value":752},"nix/nixos/driver",{"type":17,"tag":754,"props":755,"children":757},"alert",{"type":756},"info",[758,766,770,773],{"type":17,"tag":25,"props":759,"children":760},{},[761],{"type":17,"tag":594,"props":762,"children":763},{},[764],{"type":23,"value":765},"Note",{"type":17,"tag":767,"props":768,"children":769},"br",{},[],{"type":17,"tag":767,"props":771,"children":772},{},[],{"type":17,"tag":25,"props":774,"children":775},{},[776,778,783],{"type":23,"value":777},"One thing to note is that since a code machine doesn't have its own store, it can only run if ",{"type":17,"tag":57,"props":779,"children":781},{"className":780},[],[782],{"type":23,"value":659},{"type":23,"value":784}," is also running, and should therefore only be started by Codchi.",{"type":17,"tag":786,"props":787,"children":789},"h3",{"id":788},"wsl",[790],{"type":23,"value":791},"WSL",{"type":17,"tag":600,"props":793,"children":794},{},[795,805,851,861,878,903,920,936,946],{"type":17,"tag":604,"props":796,"children":797},{},[798,803],{"type":17,"tag":594,"props":799,"children":800},{},[801],{"type":23,"value":802},"SystemD:",{"type":23,"value":804}," WSL natively supports SystemD.",{"type":17,"tag":604,"props":806,"children":807},{},[808,813,815,838],{"type":17,"tag":594,"props":809,"children":810},{},[811],{"type":23,"value":812},"GUI:",{"type":23,"value":814}," Windows natively supports GUI applications within WSL with WSLg using a mixture of Wayland and RDP. Unfortunately, because of the latter, this doesn't really provide a native experience for Linux GUI applications. ",{"type":17,"tag":816,"props":817,"children":818},"del",{},[819,821,828,830,836],{"type":23,"value":820},"Therefore, by default, ",{"type":17,"tag":31,"props":822,"children":825},{"href":823,"rel":824},"https://github.com/marchaesen/vcxsrv",[741],[826],{"type":23,"value":827},"VcXsrv",{"type":23,"value":829},", a native Windows X server, is included and enabled in codchi. It can be disabled in ",{"type":17,"tag":31,"props":831,"children":833},{"href":832},"../introduction/config",[834],{"type":23,"value":835},"configuration",{"type":23,"value":837},".",{"type":17,"tag":839,"props":840,"children":841},"sup",{},[842],{"type":17,"tag":31,"props":843,"children":848},{"href":844,"ariaDescribedBy":845,"dataFootnoteRef":10,"id":847},"#user-content-fn-1",[846],"footnote-label","user-content-fnref-1",[849],{"type":23,"value":850},"1",{"type":17,"tag":604,"props":852,"children":853},{},[854,859],{"type":17,"tag":594,"props":855,"children":856},{},[857],{"type":23,"value":858},"Sound:",{"type":23,"value":860}," WSLg provides a PulseAudio server by default which works well enough.",{"type":17,"tag":604,"props":862,"children":863},{},[864,869,871,877],{"type":17,"tag":594,"props":865,"children":866},{},[867],{"type":23,"value":868},"File sharing:",{"type":23,"value":870}," Files are shared accross WSL instances via bind mounts in ",{"type":17,"tag":57,"props":872,"children":874},{"className":873},[],[875],{"type":23,"value":876},"/mnt/wsl/codchi",{"type":23,"value":837},{"type":17,"tag":604,"props":879,"children":880},{},[881,886,888,894,896,902],{"type":17,"tag":594,"props":882,"children":883},{},[884],{"type":23,"value":885},"Environment variables, secrets:",{"type":23,"value":887}," Shared via ",{"type":17,"tag":57,"props":889,"children":891},{"className":890},[],[892],{"type":23,"value":893},"$env:WSLENV",{"type":23,"value":895}," and a file which is written by the host driver to ",{"type":17,"tag":57,"props":897,"children":899},{"className":898},[],[900],{"type":23,"value":901},"\\\\wsl$\\codchi-*\\...",{"type":23,"value":837},{"type":17,"tag":604,"props":904,"children":905},{},[906,911,913,918],{"type":17,"tag":594,"props":907,"children":908},{},[909],{"type":23,"value":910},"Shortcuts:",{"type":23,"value":912}," Although WSL creates shortcuts itself, they only work if the code machine is already running. Therefore they are disabled and rather created by codchi itself so we can ensure that ",{"type":17,"tag":57,"props":914,"children":916},{"className":915},[],[917],{"type":23,"value":659},{"type":23,"value":919}," is running.",{"type":17,"tag":604,"props":921,"children":922},{},[923,928,930],{"type":17,"tag":594,"props":924,"children":925},{},[926],{"type":23,"value":927},"Terminal integration:",{"type":23,"value":929}," ",{"type":17,"tag":31,"props":931,"children":934},{"href":932,"rel":933},"https://learn.microsoft.com/en-us/windows/terminal/json-fragment-extensions",[741],[935],{"type":23,"value":932},{"type":17,"tag":604,"props":937,"children":938},{},[939,944],{"type":17,"tag":594,"props":940,"children":941},{},[942],{"type":23,"value":943},"GPU:",{"type":23,"value":945}," WSL provides access to the GPU installed on the host via dynamic libraries and executables. Since a code machine is a NixOS system some LD hacks are neccessary.",{"type":17,"tag":604,"props":947,"children":948},{},[949,954],{"type":17,"tag":594,"props":950,"children":951},{},[952],{"type":23,"value":953},"Host Integration:",{"type":23,"value":955}," The default applications inside each code machine are configured such that files or webpages open in the default Windows browser",{"type":17,"tag":754,"props":957,"children":959},{"type":958},"warning",[960,968,971,974],{"type":17,"tag":25,"props":961,"children":962},{},[963],{"type":17,"tag":594,"props":964,"children":965},{},[966],{"type":23,"value":967},"Issues with WSL",{"type":17,"tag":767,"props":969,"children":970},{},[],{"type":17,"tag":767,"props":972,"children":973},{},[],{"type":17,"tag":25,"props":975,"children":976},{},[977],{"type":23,"value":978},"In the Windows tradition, WSL can sometimes fail for no apparent reason. For example, a Codchi command might fail, only to work when the same command is issued again. More work is needed in this area to catch all WSL hickups.",{"type":17,"tag":786,"props":980,"children":982},{"id":981},"lxd",[983],{"type":23,"value":984},"LXD",{"type":17,"tag":600,"props":986,"children":987},{},[988,997,1014,1023,1039,1055],{"type":17,"tag":604,"props":989,"children":990},{},[991,995],{"type":17,"tag":594,"props":992,"children":993},{},[994],{"type":23,"value":802},{"type":23,"value":996}," LXD doesn't care about the init system.",{"type":17,"tag":604,"props":998,"children":999},{},[1000,1004,1006,1012],{"type":17,"tag":594,"props":1001,"children":1002},{},[1003],{"type":23,"value":812},{"type":23,"value":1005}," X11 and wayland sockets are shared via bind mounts. Also ",{"type":17,"tag":57,"props":1007,"children":1009},{"className":1008},[],[1010],{"type":23,"value":1011},".Xauthority",{"type":23,"value":1013}," is copied into each machine.",{"type":17,"tag":604,"props":1015,"children":1016},{},[1017,1021],{"type":17,"tag":594,"props":1018,"children":1019},{},[1020],{"type":23,"value":858},{"type":23,"value":1022}," PulseAudio / PipeWire sockets are shared.",{"type":17,"tag":604,"props":1024,"children":1025},{},[1026,1030,1032,1037],{"type":17,"tag":594,"props":1027,"children":1028},{},[1029],{"type":23,"value":868},{"type":23,"value":1031}," All files reside on the host and are bind-mounted into ",{"type":17,"tag":57,"props":1033,"children":1035},{"className":1034},[],[1036],{"type":23,"value":659},{"type":23,"value":1038}," and each machine.",{"type":17,"tag":604,"props":1040,"children":1041},{},[1042,1046,1047,1053],{"type":17,"tag":594,"props":1043,"children":1044},{},[1045],{"type":23,"value":885},{"type":23,"value":887},{"type":17,"tag":57,"props":1048,"children":1050},{"className":1049},[],[1051],{"type":23,"value":1052},"lxc exec --env",{"type":23,"value":1054}," and a file which is copied into the machine.",{"type":17,"tag":604,"props":1056,"children":1057},{},[1058,1062],{"type":17,"tag":594,"props":1059,"children":1060},{},[1061],{"type":23,"value":910},{"type":23,"value":1063}," Desktop entries and menus are generated in the corresponding XDG directories.",{"type":17,"tag":786,"props":1065,"children":1067},{"id":1066},"vm-export",[1068],{"type":23,"value":1069},"VM Export",{"type":17,"tag":754,"props":1071,"children":1072},{"type":756},[1073,1081,1084,1087],{"type":17,"tag":25,"props":1074,"children":1075},{},[1076],{"type":17,"tag":594,"props":1077,"children":1078},{},[1079],{"type":23,"value":1080},"Planned",{"type":17,"tag":767,"props":1082,"children":1083},{},[],{"type":17,"tag":767,"props":1085,"children":1086},{},[],{"type":17,"tag":25,"props":1088,"children":1089},{},[1090,1092,1099],{"type":23,"value":1091},"Integration with ",{"type":17,"tag":31,"props":1093,"children":1096},{"href":1094,"rel":1095},"https://github.com/nix-community/nixos-generators",[741],[1097],{"type":23,"value":1098},"nixos-generators",{"type":23,"value":1100}," is planned to allow exporting a code machine to any / some VM format(s).",{"type":17,"tag":38,"props":1102,"children":1104},{"id":1103},"codchi-modules",[1105],{"type":23,"value":1106},"Codchi Modules",{"type":17,"tag":25,"props":1108,"children":1109},{},[1110],{"type":23,"value":1111},"Codchi also provides its own set of [NixOS Options](../3.config/99.Codchi specific NixOS Options.md) in order to provide",{"type":17,"tag":600,"props":1113,"children":1114},{},[1115,1135],{"type":17,"tag":604,"props":1116,"children":1117},{},[1118,1120,1126,1127,1133],{"type":23,"value":1119},"Codchi-specific options (",{"type":17,"tag":57,"props":1121,"children":1123},{"className":1122},[],[1124],{"type":23,"value":1125},"codchi.secrets",{"type":23,"value":668},{"type":17,"tag":57,"props":1128,"children":1130},{"className":1129},[],[1131],{"type":23,"value":1132},"codchi.welcome",{"type":23,"value":1134},")",{"type":17,"tag":604,"props":1136,"children":1137},{},[1138,1140,1146,1147,1153],{"type":23,"value":1139},"options to easy the creation of a development environment (",{"type":17,"tag":57,"props":1141,"children":1143},{"className":1142},[],[1144],{"type":23,"value":1145},"codchi.enableRecommendedConfig",{"type":23,"value":668},{"type":17,"tag":57,"props":1148,"children":1150},{"className":1149},[],[1151],{"type":23,"value":1152},"codchi.docker",{"type":23,"value":1154},").",{"type":17,"tag":25,"props":1156,"children":1157},{},[1158,1160],{"type":23,"value":1159},"Repository: ",{"type":17,"tag":57,"props":1161,"children":1163},{"className":1162},[],[1164],{"type":23,"value":1165},"nix/nixos/modules",{"type":17,"tag":38,"props":1167,"children":1169},{"id":1168},"guidelines",[1170],{"type":23,"value":1171},"Guidelines",{"type":17,"tag":25,"props":1173,"children":1174},{},[1175],{"type":23,"value":1176},"These are the general design and contribution guidelines for Codchi. The goal is to make Codchi / NixOS easy to use and enjoyable while reducing the maintanence burden.",{"type":17,"tag":600,"props":1178,"children":1179},{},[1180,1197,1205,1240,1250],{"type":17,"tag":604,"props":1181,"children":1182},{},[1183,1188,1190,1195],{"type":17,"tag":594,"props":1184,"children":1185},{},[1186],{"type":23,"value":1187},"Reliable & Reproducible:",{"type":23,"value":1189}," The native Codchi executable, ",{"type":17,"tag":57,"props":1191,"children":1193},{"className":1192},[],[1194],{"type":23,"value":659},{"type":23,"value":1196}," and Codchi's NixOS configuration must be reliable. Quality of life features such as secrets must not affect the reproducibility of NixOS accross different hosts.",{"type":17,"tag":604,"props":1198,"children":1199},{},[1200],{"type":17,"tag":594,"props":1201,"children":1202},{},[1203],{"type":23,"value":1204},"Fast",{"type":17,"tag":604,"props":1206,"children":1207},{},[1208,1213],{"type":17,"tag":594,"props":1209,"children":1210},{},[1211],{"type":23,"value":1212},"Easy to Use:",{"type":17,"tag":600,"props":1214,"children":1215},{},[1216,1221],{"type":17,"tag":604,"props":1217,"children":1218},{},[1219],{"type":23,"value":1220},"Features should be kept to a minimum.",{"type":17,"tag":604,"props":1222,"children":1223},{},[1224,1226,1232,1233,1239],{"type":23,"value":1225},"Codchi should feel familiar (",{"type":17,"tag":57,"props":1227,"children":1229},{"className":1228},[],[1230],{"type":23,"value":1231},"git clone",{"type":23,"value":668},{"type":17,"tag":57,"props":1234,"children":1236},{"className":1235},[],[1237],{"type":23,"value":1238},"docker exec",{"type":23,"value":1154},{"type":17,"tag":604,"props":1241,"children":1242},{},[1243,1248],{"type":17,"tag":594,"props":1244,"children":1245},{},[1246],{"type":23,"value":1247},"Building on Standards (NixOS modules):",{"type":23,"value":1249}," No custom configuration format / vendor lock-in.",{"type":17,"tag":604,"props":1251,"children":1252},{},[1253,1258],{"type":17,"tag":594,"props":1254,"children":1255},{},[1256],{"type":23,"value":1257},"Simplicity:",{"type":17,"tag":600,"props":1259,"children":1260},{},[1261,1266],{"type":17,"tag":604,"props":1262,"children":1263},{},[1264],{"type":23,"value":1265},"Fewer but better features.",{"type":17,"tag":604,"props":1267,"children":1268},{},[1269],{"type":23,"value":1270},"Simple design without a central Codchi-daemon.",{"type":17,"tag":1272,"props":1273,"children":1276},"section",{"className":1274,"dataFootnotes":10},[1275],"footnotes",[1277,1284],{"type":17,"tag":38,"props":1278,"children":1281},{"className":1279,"id":846},[1280],"sr-only",[1282],{"type":23,"value":1283},"Footnotes",{"type":17,"tag":641,"props":1285,"children":1286},{},[1287],{"type":17,"tag":604,"props":1288,"children":1290},{"id":1289},"user-content-fn-1",[1291,1293,1298,1300],{"type":23,"value":1292},"Currently there are some security concerns in the GitHub repo of VcXsrv which is why it isn't included in Codchi by default anymore. But, if installed manually, it can still be used by Codchi (see ",{"type":17,"tag":31,"props":1294,"children":1295},{"href":832},[1296],{"type":23,"value":1297},"config",{"type":23,"value":1299},"). ",{"type":17,"tag":31,"props":1301,"children":1306},{"href":1302,"ariaLabel":1303,"className":1304,"dataFootnoteBackref":10},"#user-content-fnref-1","Back to reference 1",[1305],"data-footnote-backref",[1307],{"type":23,"value":1308},"↩",{"type":17,"tag":1310,"props":1311,"children":1312},"style",{},[1313],{"type":23,"value":1314},"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":10,"searchDepth":74,"depth":74,"links":1316},[1317,1318,1319,1324,1325,1326],{"id":40,"depth":74,"text":43},{"id":187,"depth":74,"text":190},{"id":631,"depth":74,"text":634,"children":1320},[1321,1322,1323],{"id":788,"depth":156,"text":791},{"id":981,"depth":156,"text":984},{"id":1066,"depth":156,"text":1069},{"id":1103,"depth":74,"text":1106},{"id":1168,"depth":74,"text":1171},{"id":846,"depth":74,"text":1283},"markdown","content:4.contrib:internals.md","content","4.contrib/internals.md","4.contrib/internals","md","default",["ShallowRef",1335],["ShallowReactive",1336],{"/contrib/internals":1337},[1338,1344],{"_path":1339,"_dir":1297,"_draft":9,"_partial":9,"_locale":10,"title":1340,"description":10,"_type":1327,"_id":1341,"_source":1329,"_file":1342,"_stem":1343,"_extension":1332},"/config/codchi-specific-nixos-options","Codchi Specific NixOS Options","content:3.config:99.Codchi specific NixOS Options.md","3.config/99.Codchi specific NixOS Options.md","3.config/99.Codchi specific NixOS Options",{"_path":1345,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":1346,"description":10,"_type":1327,"_id":1347,"_source":1329,"_file":1348,"_stem":1349,"_extension":1332},"/contrib/roadmap","Roadmap","content:4.contrib:roadmap.md","4.contrib/roadmap.md","4.contrib/roadmap",["ShallowRef",1351],{},{"preference":1353,"value":1353,"unknown":1354,"forced":9},"system",true,[1356,1379,1460,1505],{"title":1357,"_path":1358,"children":1359,"icon":1377,"redirect":1378},"Introduction","/introduction",[1360,1362,1365,1368,1371,1374],{"title":36,"_path":1361},"/introduction/what-is-codchi",{"title":1363,"_path":1364},"Installation","/introduction/installation",{"title":1366,"_path":1367},"Your first Code Machine","/introduction/first-code-machine",{"title":1369,"_path":1370},"Configuration","/introduction/config",{"title":1372,"_path":1373},"Troubleshooting","/introduction/troubleshooting",{"title":1375,"_path":1376},"Migrating away from Codchi","/introduction/vm","ph:star-duotone","/introduction/getting-started",{"title":1380,"_path":1381,"children":1382,"icon":1459},"Command Reference","/usage",[1383,1386,1388,1391,1394,1397,1399,1402,1405,1424,1427,1443,1446,1456],{"title":1384,"_path":1385},"codchi clone","/usage/clone",{"title":109,"_path":1387},"/usage/codchi",{"title":1389,"_path":1390},"codchi completion","/usage/completion",{"title":1392,"_path":1393},"codchi delete","/usage/delete",{"title":1395,"_path":1396},"codchi duplicate","/usage/duplicate",{"title":338,"_path":1398},"/usage/exec",{"title":1400,"_path":1401},"codchi gc","/usage/gc",{"title":1403,"_path":1404},"codchi init","/usage/init",{"title":1406,"_path":1407,"children":1408},"Module","/usage/module",[1409,1412,1415,1418,1421],{"title":1410,"_path":1411},"codchi module add","/usage/module/add",{"title":1413,"_path":1414},"codchi module delete","/usage/module/delete",{"title":1416,"_path":1417},"codchi module list","/usage/module/list",{"title":1419,"_path":1420},"codchi module","/usage/module/module",{"title":1422,"_path":1423},"codchi module set","/usage/module/set",{"title":1425,"_path":1426},"codchi rebuild","/usage/rebuild",{"title":1428,"_path":1429,"children":1430},"Secrets","/usage/secrets",[1431,1434,1437,1440],{"title":1432,"_path":1433},"codchi secrets get","/usage/secrets/get",{"title":1435,"_path":1436},"codchi secrets list","/usage/secrets/list",{"title":1438,"_path":1439},"codchi secrets","/usage/secrets/secrets",{"title":1441,"_path":1442},"codchi secrets set","/usage/secrets/set",{"title":1444,"_path":1445},"codchi status","/usage/status",{"title":1447,"_path":1448,"children":1449},"Store","/usage/store",[1450,1453],{"title":1451,"_path":1452},"codchi store debug","/usage/store/debug",{"title":1454,"_path":1455},"codchi store","/usage/store/store",{"title":1457,"_path":1458},"codchi tar","/usage/tar","mdi:bash",{"title":1461,"_path":1462,"children":1463,"icon":1504},"Module Configuration","/config",[1464,1466,1469,1471,1474,1477,1480,1503],{"title":43,"_path":1465},"/config/overview",{"title":1467,"_path":1468},"Your first Module","/config/start",{"title":1428,"_path":1470},"/config/secrets",{"title":1472,"_path":1473},"Miscellaneous","/config/misc",{"title":1475,"_path":1476},"flake.nix, devenv.sh, flox","/config/devenv",{"title":1478,"_path":1479},"Editor","/config/editor",{"title":1481,"_path":1482,"children":1483,"icon":1502},"Environments","/config/environments",[1484,1487,1490,1493,1496,1499],{"title":1485,"_path":1486},"GPU","/config/environments/gpu",{"title":1488,"_path":1489},"Javascript","/config/environments/javascript",{"title":1491,"_path":1492},"JVM","/config/environments/jvm",{"title":1494,"_path":1495},"Nix","/config/environments/nix",{"title":1497,"_path":1498},"Python","/config/environments/python",{"title":1500,"_path":1501},"Rust","/config/environments/rust","ph:package-duotone",{"title":1340,"_path":1339},"ph:gear-duotone",{"title":1506,"_path":1507,"children":1508,"icon":1511},"Contributing","/contrib",[1509,1510],{"title":11,"_path":7},{"title":1346,"_path":1345},"ph:github-logo-duotone",{"heroicons-outline:menu":-1,"fa-brands:github":-1,"ph:star-duotone":-1,"lucide:chevrons-down-up":-1,"mdi:bash":-1,"lucide:chevrons-up-down":-1,"ph:gear-duotone":-1,"ph:package-duotone":-1,"ph:github-logo-duotone":-1,"uil:edit":-1,"heroicons-outline:arrow-sm-left":-1,"heroicons-outline:arrow-sm-right":-1,"heroicons-outline:chevron-right":-1,"ph:copy":-1,"heroicons-outline:search":-1},{"parentPath":1507,"scrollTop":1514},0,{},{},{"/usage/module":1354,"/usage/secrets":1354,"/usage/store":1354},{},{},{},{"/config/environments":1354},{},{},["Set"],["ShallowReactive",1526],{"search-api":1527},null,1741615769019]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{studio:{apiURL:"https://api.nuxt.studio",iframeMessagingAllowedOrigins:""},mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1741615736117,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["icon","titleTemplate","header","main","aside","footer","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{dark:"github-dark",default:"github-light"},preload:["nix","toml","ps1","json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini"],highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml","nix","toml","ps1","json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"d6444895-0207-47d7-83fa-88c3502fb655",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>
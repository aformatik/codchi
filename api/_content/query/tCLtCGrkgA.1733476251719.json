{"_path":"/usage/clone","_dir":"usage","_draft":false,"_partial":false,"_locale":"","title":"codchi clone","description":"Clone a project and initialize its code machine using the cloned module.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"codchi-clone"},"children":[{"type":"text","value":"codchi clone"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Clone a project and initialize its code machine using the cloned module."}]},{"type":"element","tag":"h2","props":{"id":"synopsis"},"children":[{"type":"text","value":"Synopsis"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"codchi clone"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--depth"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--single-branch"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--recurse-submodules"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--shallow-submodules"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--dir"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-y"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--dont-prompt"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-N"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--no-build"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--use-nixpkgs"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--token"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-b"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--branch"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-r"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--tag"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--commit"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--verbose"}]}]},{"type":"text","value":"... "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-q"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--quiet"}]}]},{"type":"text","value":"...\n"},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--json"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-h"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--help"}]}]},{"type":"text","value":" <"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MACHINE_NAME"}]},{"type":"text","value":"> <"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"URL"}]},{"type":"text","value":">\n"},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MODULE_PATHS"}]}]}]},{"type":"element","tag":"h2","props":{"id":"description"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This command unifies the following commands:"}]},{"type":"element","tag":"pre","props":{"code":"codchi init <MACHINE_NAME> <URL>\ncodchi exec <MACHINE_NAME> git clone <URL> <TARGET_DIR>\ncodchi module set <MACHINE_NAME> <MODULE_NAME> --url <TARGET_DIR>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi init <MACHINE_NAME> <URL>\ncodchi exec <MACHINE_NAME> git clone <URL> <TARGET_DIR>\ncodchi module set <MACHINE_NAME> <MODULE_NAME> --url <TARGET_DIR>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the documentation of each command for more information."}]},{"type":"element","tag":"h2","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--depth"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"DEPTH"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"git clone --depth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--single-branch"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"git clone --single-branch"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--recurse-submodules"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"git clone --recurse-submodules"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--shallow-submodules"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Same as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"git clone --shallow-submodules"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--dir"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"DIR"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The target directory, relative to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$HOME"}]},{"type":"text","value":", for the git repo. If\nleft empty this will chosen by git"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-y"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--dont-prompt"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Dont prompt for confirmation and accept all of Codchis defaults.\nUsefull for using Codchi in scripts"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-N"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--no-build"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Dont automatically build this machine after this command completes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--use-nixpkgs"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"USE_NIXPKGS"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Whether to use Nixpkgs from the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"local"}]},{"type":"text","value":" Codchi installation or\nthe "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"remote"}]},{"type":"text","value":" URL. See the \"Which nixpkgs should I use?\"\nsection of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi init"}]},{"type":"text","value":" for more details."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"By default Codchi will use "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"remote"}]},{"type":"text","value":" if "},{"type":"element","tag":"url","props":{},"children":[{"type":"text","value":" defines a\nnixpkgs input in its flake. Otherwise it will use the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"local"}]},{"type":"text","value":"\nnixpkgs."}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"*possible values: *local, remote"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--token"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"TOKEN"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Authorisation token for private repositories. Generally, the syntax\nis "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<user>:<token>"}]},{"type":"text","value":" or just "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<token>"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"GitHub for example has something like\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}]},{"type":"text","value":" whereas GitLab uses\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"oauth2:glpat-xxxxxxxxxxxxxxxxxxxx"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-b"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--branch"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"BRANCH"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The git branch to use for the code machine module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-r"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--tag"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"TAG"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The git tag to use for the code machine module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--commit"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"COMMIT"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The git commit to use for the code machine module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--verbose"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Increase logging verbosity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-q"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--quiet"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Decrease logging verbosity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--json"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Produce output in JSON format, suitable for consumption by another\nprogram"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-h"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--help"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Print help (see a summary with -h)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"<"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MACHINE_NAME"}]},{"type":"text","value":">"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Name of the code machine"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"<"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"URL"}]},{"type":"text","value":">"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"HTTP(S) URL to the git repository"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MODULE_PATHS"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"A list of flake paths to the Codchi modules you whish to add.\nCurrently supported: codchiModules."},{"type":"element","tag":"module","props":{},"children":[{"type":"text","value":" or\nnixosModules."},{"type":"element","tag":"module","props":{},"children":[{"type":"text","value":". If not sure which modules are available,\nleave this empty. Codchi will prompt you with a list of possible\noptions."}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"With "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--dont-prompt"}]},{"type":"text","value":" this argument is required."}]}]},{"type":"element","tag":"h2","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install and clone the Codchi repo / machine:"}]},{"type":"element","tag":"pre","props":{"code":"codchi clone <MACHINE_NAME> https://github.com/aformatik/codchi nixosModules.codchi\ncodchi exec <MACHINE_NAME>\ncd codchi/codchi\ncargo build\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi clone <MACHINE_NAME> https://github.com/aformatik/codchi nixosModules.codchi\ncodchi exec <MACHINE_NAME>\ncd codchi/codchi\ncargo build\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"synopsis","depth":2,"text":"Synopsis"},{"id":"description","depth":2,"text":"Description"},{"id":"options","depth":2,"text":"Options"},{"id":"examples","depth":2,"text":"Examples"}]}},"_type":"markdown","_id":"content:2.usage:clone.md","_source":"content","_file":"2.usage/clone.md","_stem":"2.usage/clone","_extension":"md"}
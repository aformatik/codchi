{"_path":"/usage/module/add","_dir":"module","_draft":false,"_partial":false,"_locale":"","title":"codchi module add","description":"Add a module to a code machine.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"codchi-module-add"},"children":[{"type":"text","value":"codchi module add"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add a module to a code machine."}]},{"type":"element","tag":"h2","props":{"id":"synopsis"},"children":[{"type":"text","value":"Synopsis"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"codchi module add"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-y"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--dont-prompt"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-N"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--no-build"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--use-nixpkgs"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--auth"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-b"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--branch"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-r"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--tag"}]}]},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--commit"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--verbose"}]}]},{"type":"text","value":"...\n"},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-q"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--quiet"}]}]},{"type":"text","value":"... "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--json"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-h"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--help"}]}]},{"type":"text","value":"\n<"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MACHINE_NAME"}]},{"type":"text","value":"> <"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"URL"}]},{"type":"text","value":"> "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MODULE_PATHS"}]}]}]},{"type":"element","tag":"h2","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-y"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--dont-prompt"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Dont prompt for confirmation and accept all of Codchis defaults.\nUsefull for using Codchi in scripts"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-N"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--no-build"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Dont automatically build this machine after this command completes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-p"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--use-nixpkgs"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"USE_NIXPKGS"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Whether to use Nixpkgs from the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"local"}]},{"type":"text","value":" Codchi installation or\nthe "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"remote"}]},{"type":"text","value":" URL. See the \"Which nixpkgs should I use?\"\nsection of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi init"}]},{"type":"text","value":" for more details."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"By default Codchi will use "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"remote"}]},{"type":"text","value":" if "},{"type":"element","tag":"url","props":{},"children":[{"type":"text","value":" defines a\nnixpkgs input in its flake. Otherwise it will use the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"local"}]},{"type":"text","value":"\nnixpkgs."}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"*possible values: *local, remote"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-a"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--auth"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"AUTH"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Authorisation string for private repositories. Generally, the syntax\nis "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<user>:<token>"}]},{"type":"text","value":" or just "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<token>"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"GitHub for example has something like\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}]},{"type":"text","value":" whereas GitLab uses\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"oauth2:glpat-xxxxxxxxxxxxxxxxxxxx"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-b"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--branch"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"BRANCH"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The git branch to use for the code machine module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-r"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--tag"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"TAG"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The git tag to use for the code machine module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--commit"}]},{"type":"text","value":"="},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"COMMIT"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The git commit to use for the code machine module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--verbose"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Increase logging verbosity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-q"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--quiet"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Decrease logging verbosity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--json"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Produce output in JSON format, suitable for consumption by another\nprogram"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-h"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--help"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Print help (see a summary with -h)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"<"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MACHINE_NAME"}]},{"type":"text","value":">"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Name of the code machine"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"<"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"URL"}]},{"type":"text","value":">"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"HTTP(S) URL or file path to the codchi module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"MODULE_PATHS"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"A list of flake paths to the NixOS modules you whish to add.\nCurrently supported: codchiModules."},{"type":"element","tag":"module","props":{},"children":[{"type":"text","value":" or\nnixosModules."},{"type":"element","tag":"module","props":{},"children":[]}]}]}]},{"type":"element","tag":"h2","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"h3","props":{"id":"personal-modules"},"children":[{"type":"text","value":"Personal modules"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sometimes you might want to customize a code machine, but don't want to\ncommit it to upstream to the main module of the code machine which is\nalso used by other developers. For example, you might want to use a\ndifferent editor than the rest of the project's contributors.\nFortunately, you can add as many modules to a machine as you like! This\nis especially handy for sharing your personal configuration between\ndifferent code machines:"}]},{"type":"element","tag":"pre","props":{"code":"codchi module add <MACHINE_NAME> https://github.com/my/cool/nixconfig nixosModules.vim\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi module add <MACHINE_NAME> https://github.com/my/cool/nixconfig nixosModules.vim\n"}]}]},{"type":"element","tag":"h3","props":{"id":"local-modules"},"children":[{"type":"text","value":"Local modules"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"EXTRA"}]},{"type":"text","value":" section of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi module"}]},{"type":"text","value":" for more information. Given\nyou already have a git repository containing a code machine module\nchecked out inside at the path "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$HOME/my-additional-module"}]},{"type":"text","value":". You can add\nit to the code machine via:"}]},{"type":"element","tag":"pre","props":{"code":"codchi module add <MACHINE_NAME> my-additional-module <MODULE_PATHS...>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi module add <MACHINE_NAME> my-additional-module <MODULE_PATHS...>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note that the ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"my-additional-module"}]},{"type":"text","value":") is relative to"}]},{"type":"text","value":" "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$HOME"}]},{"type":"text","value":"\ninside and has no leading "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~"}]},{"type":"text","value":" or"}]},{"type":"text","value":" "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"./"}]},{"type":"text","value":"."}]},{"type":"text","value":" If you leave\n<MODULE_PATHS...> empty, Codchi will prompt you with a list of\navailable modules, just like with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi init"}]},{"type":"text","value":"."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"synopsis","depth":2,"text":"Synopsis"},{"id":"options","depth":2,"text":"Options"},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"personal-modules","depth":3,"text":"Personal modules"},{"id":"local-modules","depth":3,"text":"Local modules"}]}]}},"_type":"markdown","_id":"content:2.usage:module:add.md","_source":"content","_file":"2.usage/module/add.md","_stem":"2.usage/module/add","_extension":"md"}
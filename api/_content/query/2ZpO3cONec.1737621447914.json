{"_path":"/usage/module/module","_dir":"module","_draft":false,"_partial":false,"_locale":"","title":"codchi module","description":"Manage modules of code machines.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"codchi-module"},"children":[{"type":"text","value":"codchi module"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Manage modules of code machines."}]},{"type":"element","tag":"h2","props":{"id":"synopsis"},"children":[{"type":"text","value":"Synopsis"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"codchi module"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--verbose"}]}]},{"type":"text","value":"...\n"},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-q"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--quiet"}]}]},{"type":"text","value":"... "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--json"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-h"}]},{"type":"text","value":"|"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--help"}]}]},{"type":"text","value":"\n<"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"subcommands"}]},{"type":"text","value":">"}]},{"type":"element","tag":"h2","props":{"id":"description"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each code machine has a list of modules (often just one) which are\nidentified by a name. There can also be machines without modules (a base\nmachine). You can add, modify, remove a module or switch a module\nbetween local and remote configuration."}]},{"type":"element","tag":"h2","props":{"id":"subcommands"},"children":[{"type":"text","value":"Subcommands"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"codchi-module-list(1)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Lists modules of a code machine"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"codchi-module-add(1)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Add a module to a code machine."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"codchi-module-set(1)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Modify a module of a code machine."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"codchi-module-delete(1)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Delete a module of a code machine"}]}]},{"type":"element","tag":"h2","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--verbose"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Increase logging verbosity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-q"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--quiet"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Decrease logging verbosity"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--json"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Produce output in JSON format, suitable for consumption by another\nprogram"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"-h"}]},{"type":"text","value":", "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"--help"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Print help (see a summary with -h)"}]}]},{"type":"element","tag":"h2","props":{"id":"extra"},"children":[{"type":"text","value":"Extra"}]},{"type":"element","tag":"h3","props":{"id":"local-configuration"},"children":[{"type":"text","value":"Local Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While working on a code machine module, any change to the code must\nfirst be pushed online before Codchi can pull and apply the change. This\ncan quickly become annoying, especially if you're actively developing\nthe module or experimenting a lot. Luckily, a machine module can be\nswitched to local repository inside the code machine."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It's good practise to have the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".nix"}]},{"type":"text","value":" configuration files in the\nrepository of your project itself. This way Codchi can spin up a machine\nfor every commit of your project. Also you'll have the project checked\nout in your code machine anyway, so step 1 shouldn't be neccessary."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"First of all, clone the repository containing the module\nconfiguration inside . For Codchi to be able to find it, the\nrepository has reside in a folder inside the machine's "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$HOME"}]},{"type":"text","value":",\nwhich is "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/home/codchi"}]},{"type":"text","value":"."},{"type":"element","tag":"pre","props":{"code":"git clone https://github.com/my/repo ~/my-project-name\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"git clone https://github.com/my/repo ~/my-project-name\n"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Upon creation of , if you didn't explicitly specify a module name\nfor your repository, Codchi guesses a name from its url. List 's\nmodules to get the actual module name:"},{"type":"element","tag":"pre","props":{"code":"codchi module list <MACHINE_NAME>\n┌─────────────┬────────────────────┬────────────────────────┐\n│ Name        ┆ Url                ┆ Flake Module           │\n╞═════════════╪════════════════════╪════════════════════════╡\n│ repo-module ┆ github.com/my/repo ┆ nixosModules.my-module │\n└─────────────┴────────────────────┴────────────────────────┘\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi module list <MACHINE_NAME>\n┌─────────────┬────────────────────┬────────────────────────┐\n│ Name        ┆ Url                ┆ Flake Module           │\n╞═════════════╪════════════════════╪════════════════════════╡\n│ repo-module ┆ github.com/my/repo ┆ nixosModules.my-module │\n└─────────────┴────────────────────┴────────────────────────┘\n"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Now you can tell Codchi to switch the module pointing to the remote\nrepository to your local copy. Note that that `my-project-name' is\nthe path inside relative to $HOME:"},{"type":"element","tag":"pre","props":{"code":"codchi module set <MACHINE_NAME> <MODULE_NAME> --url=my-project-name\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi module set <MACHINE_NAME> <MODULE_NAME> --url=my-project-name\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you don't already have a module (e.g. after creating a base machine),\nyou can just add a module pointing to a local repository. The name of\nthe new module will be inferred by Codchi:"}]},{"type":"element","tag":"pre","props":{"code":"codchi module add <MACHINE_NAME> my-project-name\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"codchi module add <MACHINE_NAME> my-project-name\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"synopsis","depth":2,"text":"Synopsis"},{"id":"description","depth":2,"text":"Description"},{"id":"subcommands","depth":2,"text":"Subcommands"},{"id":"options","depth":2,"text":"Options"},{"id":"extra","depth":2,"text":"Extra","children":[{"id":"local-configuration","depth":3,"text":"Local Configuration"}]}]}},"_type":"markdown","_id":"content:2.usage:module:module.md","_source":"content","_file":"2.usage/module/module.md","_stem":"2.usage/module/module","_extension":"md"}
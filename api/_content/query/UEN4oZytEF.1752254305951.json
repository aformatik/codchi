{"_path":"/introduction/troubleshooting","_dir":"introduction","_draft":false,"_partial":false,"_locale":"","title":"Troubleshooting","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"troubleshooting"},"children":[{"type":"text","value":"Troubleshooting"}]},{"type":"element","tag":"h2","props":{"id":"timezone-is-wrong"},"children":[{"type":"text","value":"Timezone is wrong"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default, both WSL and LXD use UTC as the default timezone. To set another timezone, use "},{"type":"element","tag":"a","props":{"href":"https://search.nixos.org/options?show=time.timeZone","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"time.timeZone"}]}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"# configuration.nix\n{\n    time.timeZone = \"Europe/Berlin\";\n}\n","language":"nix","meta":"","className":"language-nix shiki shiki-themes github-dark github-light","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"# configuration.nix\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"    time"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"timeZone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"Europe/Berlin\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"linux-graphical-applications-dont-work"},"children":[{"type":"text","value":"Linux: Graphical Applications don't Work"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When opening graphical applications inside a code machine you might encounter an error like this:"}]},{"type":"element","tag":"pre","props":{"code":"Error: Can't open display\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Error: Can't open display\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Although Codchi does its best to make the X-Server available inside a code machine (which is a LXD container on Linux), there can be issues with authentication against the host's X-Server. Codchi tries to set the Xauthority cookie. If this fails, you can try to allow all local connections to the X-Server (although this may be somewhat insecure):"}]},{"type":"element","tag":"pre","props":{"code":"xhost +local:\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"xhost +local:\n"}]}]},{"type":"element","tag":"h2","props":{"id":"wsl-failed-initializing-driver"},"children":[{"type":"text","value":"WSL: Failed initializing Driver"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Currently, the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchistore"}]},{"type":"text","value":" file system may get corrupted, rendering Codchi unusable. The error looks something like this:"}]},{"type":"element","tag":"pre","props":{"code":"Failed initializing Driver.: LinuxCommandBuilder { driver: LinuxCommandDriver { instance_name: \"codchistore\" }, program: Run { program: \"/sbin/init\", args: [] }, user: None, cwd: Some(LinuxPath(\"/\")), cmd: \"wsl.exe\" \"-d\" \"codchistore\" \"--cd\" \"/\" \"--\" \"run\" \"/sbin/init\" } failed with exit status ExitStatus(ExitStatus(1)). Stderr:\n<3>WSL (9) ERROR: CreateProcessParseCommon:809: getpwuid(0) failed 2\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Roaming\\codchi\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Local\\codchi\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\iCLS\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\iCLS\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\system32\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\System32\\Wbem\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\System32\\OpenSSH\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\WiFi\\bin\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\ProgramData\\chocolatey\\bin\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\dotnet\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\starship\\bin\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\PowerShell\\7\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Tailscale\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Docker\\Docker\\resources\\bin\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Neovim\\bin\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Local\\Microsoft\\WindowsApps\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Local\\Programs\\Git\\cmd\n<3>WSL (9) ERROR: CreateProcessCommon:392: getpwuid(0) failed 2\n<3>WSL (9) ERROR: CreateProcessCommon:559: execvpe(/bin/sh) failed: No such file or directory\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Failed initializing Driver.: LinuxCommandBuilder { driver: LinuxCommandDriver { instance_name: \"codchistore\" }, program: Run { program: \"/sbin/init\", args: [] }, user: None, cwd: Some(LinuxPath(\"/\")), cmd: \"wsl.exe\" \"-d\" \"codchistore\" \"--cd\" \"/\" \"--\" \"run\" \"/sbin/init\" } failed with exit status ExitStatus(ExitStatus(1)). Stderr:\n<3>WSL (9) ERROR: CreateProcessParseCommon:809: getpwuid(0) failed 2\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Roaming\\codchi\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Local\\codchi\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\iCLS\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\iCLS\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\system32\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\System32\\Wbem\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\WINDOWS\\System32\\OpenSSH\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Intel\\WiFi\\bin\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\ProgramData\\chocolatey\\bin\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\dotnet\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\starship\\bin\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\PowerShell\\7\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Tailscale\\\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Docker\\Docker\\resources\\bin\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Program Files\\Neovim\\bin\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Local\\Microsoft\\WindowsApps\n<3>WSL (9) ERROR: UtilTranslatePathList:2852: Failed to translate C:\\Users\\Dev\\AppData\\Local\\Programs\\Git\\cmd\n<3>WSL (9) ERROR: CreateProcessCommon:392: getpwuid(0) failed 2\n<3>WSL (9) ERROR: CreateProcessCommon:559: execvpe(/bin/sh) failed: No such file or directory\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To resolve this, run the command "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi store recover"}]},{"type":"text","value":", after which Codchi should work again."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"timezone-is-wrong","depth":2,"text":"Timezone is wrong"},{"id":"linux-graphical-applications-dont-work","depth":2,"text":"Linux: Graphical Applications don't Work"},{"id":"wsl-failed-initializing-driver","depth":2,"text":"WSL: Failed initializing Driver"}]}},"_type":"markdown","_id":"content:1.introduction:4.troubleshooting.md","_source":"content","_file":"1.introduction/4.troubleshooting.md","_stem":"1.introduction/4.troubleshooting","_extension":"md"}
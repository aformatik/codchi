{"_path":"/config/codchi-specific-nixos-options","_dir":"config","_draft":false,"_partial":false,"_locale":"","title":"Codchi Specific NixOS Options","description":"","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"codchienablerecommendedconfig"},"children":[{"type":"text","value":"codchi.enableRecommendedConfig"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Whether to enable recommended NixOS options."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nboolean"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Example:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/modules/recommended-config.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/modules/recommended-config.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchidockerenable"},"children":[{"type":"text","value":"codchi.docker.enable"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Whether to enable the docker daemon. This also adds the codchi user to the docker group and installs docker-compose."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nboolean"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/modules/docker.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/modules/docker.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchidockerenablenvidia"},"children":[{"type":"text","value":"codchi.docker.enableNvidia"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Whether to install nvidia-container-toolkit to enable GPU usage inside docker containers.\nThis requires setting "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi.gpu.enable = true"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nixpkgs.config.allowUnfree = true"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nboolean"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/modules/docker.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/modules/docker.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchigpuenable"},"children":[{"type":"text","value":"codchi.gpu.enable"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Whether to enable OpenGL / GPU driver from the host."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nboolean"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Example:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/driver/host-integration.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/driver/host-integration.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchiinitscript"},"children":[{"type":"text","value":"codchi.initScript"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A bash script which will run once on machine creation (init or clone) as the default codchi user. Afterwards it can be run manually via "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi-init"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To override the default welcome message use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lib.mkForce"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nnull or strings concatenated with “\\n”"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]}]},{"type":"element","tag":"pre","props":{"code":"''\n  echo -e \"❄️ Welcome to your new code machine $CODCHI_MACHINE_NAME! ❄️\"\n  echo\n  echo -e \"To get started with \\e[1;36mCodchi\\e[0m, read the docs at <https://codchi.dev/>.\"\n  echo -e \"If you encounter problems please open an issue at <https://github.com/aformatik/codchi/issues>.\"\n  echo\n''\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"''\n  echo -e \"❄️ Welcome to your new code machine $CODCHI_MACHINE_NAME! ❄️\"\n  echo\n  echo -e \"To get started with \\e[1;36mCodchi\\e[0m, read the docs at <https://codchi.dev/>.\"\n  echo -e \"If you encounter problems please open an issue at <https://github.com/aformatik/codchi/issues>.\"\n  echo\n''\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"pre","props":{"code":"''\n  cd $HOME\n  git clone https://github.com/my/cool-repo\n''\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"''\n  cd $HOME\n  git clone https://github.com/my/cool-repo\n''\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/driver/init.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/driver/init.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchikeyringenable"},"children":[{"type":"text","value":"codchi.keyring.enable"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Whether to enable a keyring for applications like IntelliJ."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nboolean"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Example:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/modules/keyring.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/modules/keyring.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchisecretsenv"},"children":[{"type":"text","value":"codchi.secrets.env"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Secrets / variables which must be set by each Codchi user. They will be\navailable in each shell session, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"prefixed by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"CODCHI_"}]}]},{"type":"text","value":", inside this code\nmachine, so don’t use this for super sensitive secrets."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Possible use cases:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"GitHub / GitLab tokens for automatic git setup / repo cloning"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nattribute set of (submodule)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{ }"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"pre","props":{"code":"{\n      # Will be available as $CODCHI_GITLAB_TOKEN\n      GITLAB_TOKEN = {\n        description = ''\n          Access token with read_api, read_repository & write_repository scopes. \n          Can be created here: <https://gitlab.example.com/-/user_settings/personal_access_tokens>. \n          Syntax: `oauth2:glpat-XXXXXXXXXXXXXXXXXXXX`.\n        '';\n      };\n    }\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n      # Will be available as $CODCHI_GITLAB_TOKEN\n      GITLAB_TOKEN = {\n        description = ''\n          Access token with read_api, read_repository & write_repository scopes. \n          Can be created here: <https://gitlab.example.com/-/user_settings/personal_access_tokens>. \n          Syntax: `oauth2:glpat-XXXXXXXXXXXXXXXXXXXX`.\n        '';\n      };\n    }\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/driver/secrets.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/driver/secrets.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchisecretsenvnamedescription"},"children":[{"type":"text","value":"codchi.secrets.env.<name>.description"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A short text describing what this secret is used for and how it should be obtained.\nThis will be shown to the user during "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"codchi rebuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nstrings concatenated with “\\n”"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/driver/secrets.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/driver/secrets.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"codchisecretsenvnamename"},"children":[{"type":"text","value":"codchi.secrets.env.<name>.name"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Name of this environment variable. Will be prefixed by "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"CODCHI_"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nstring matching the pattern ^[a-zA-Z0-9:_\\.-]*$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"‹name›\""}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/driver/secrets.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/driver/secrets.nix>"}]}]}]},{"type":"element","tag":"h2","props":{"id":"programsjavapackages"},"children":[{"type":"text","value":"programs.java.packages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"List of JDKs which should be symlinked to ~/.jdks (for IDEs lik IntelliJ)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Type:"}]},{"type":"text","value":"\nattribute set of package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Default:"}]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{ }"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"pre","props":{"code":"{\n  openjdk19 = pkgs.jdk19;\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  openjdk19 = pkgs.jdk19;\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Declared by:"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/aformatik/codchi/blob/master/nix/nixos/modules/java.nix","rel":["nofollow"]},"children":[{"type":"text","value":"<codchi/nix/nixos/modules/java.nix>"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"codchienablerecommendedconfig","depth":2,"text":"codchi.enableRecommendedConfig"},{"id":"codchidockerenable","depth":2,"text":"codchi.docker.enable"},{"id":"codchidockerenablenvidia","depth":2,"text":"codchi.docker.enableNvidia"},{"id":"codchigpuenable","depth":2,"text":"codchi.gpu.enable"},{"id":"codchiinitscript","depth":2,"text":"codchi.initScript"},{"id":"codchikeyringenable","depth":2,"text":"codchi.keyring.enable"},{"id":"codchisecretsenv","depth":2,"text":"codchi.secrets.env"},{"id":"codchisecretsenvnamedescription","depth":2,"text":"codchi.secrets.env.<name>.description"},{"id":"codchisecretsenvnamename","depth":2,"text":"codchi.secrets.env.<name>.name"},{"id":"programsjavapackages","depth":2,"text":"programs.java.packages"}]}},"_type":"markdown","_id":"content:3.config:99.Codchi specific NixOS Options.md","_source":"content","_file":"3.config/99.Codchi specific NixOS Options.md","_stem":"3.config/99.Codchi specific NixOS Options","_extension":"md"}